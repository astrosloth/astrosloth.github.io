!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return r(n?n:t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t){var e,n,i,r,o,s,a,u,h,c;s=t("page"),n=t("ractive"),a=t("./pages"),r=t("./components"),c=t("./settings"),i=new(function(){function t(){this.teardown()}return t.prototype.teardown=function(){var t;return null!=(t=this.currentRact)&&t.teardown(),this.currentRact=null},t.prototype.switchTo=function(t){return function(e){return function(){var n;return e.teardown(),n={el:"#app-container",debug:c.debug},e.currentRact=new t(n)}}(this)},t}());for(o in r)h=r[o],n.components[o]=h;for(u in a)e=a[u],s(u,i.switchTo(e));s.base('/web-audio-tools.html');s()},{"./components":2,"./pages":7,"./settings":11,page:5,ractive:6}],2:[function(t,e,n){n.editable=t("./components/editable"),n.oscillator=t("./components/oscillator")},{"./components/editable":3,"./components/oscillator":4}],3:[function(t,e){var n;n=t("ractive"),e.exports=n.extend({template:'<div>\n  {{#editing}}\n  <input type="text" value="{{value}}" on-blur="done" />\n  {{/editing}}\n  {{#!editing}}\n  <span on-click="edit">{{value}}</span>\n  {{/!editing}}\n</div>\n',init:function(){return this.on("edit",function(){return this.set("editing",!0),this.find("input").select()}),this.on("done",function(){return this.set("editing",!1)})},data:{editing:!1}})},{ractive:6}],4:[function(t,e){var n;n=t("ractive"),e.exports=n.extend({template:'<div>\n  <input type="range" value="{{frequency}}" min="{{min}}" max="{{max}}" />\n  <input type="text" value="{{frequency}}" size="4" />\n  <br />\n  <button on-click="toggle">{{ playing ? \'Stop\' : \'Start\' }}</button>\n</div>\n',init:function(){return this.audioctx=new AudioContext,this.oscillator=null,this.find('input[type="range"]').value=this.get("frequency"),this.on("toggle",function(){return this.get("playing")&&null!=this.oscillator?(this.oscillator.stop(),this.oscillator=null,this.set("playing",!1)):(this.oscillator=this.audioctx.createOscillator(),this.oscillator.frequency.value=this.get("frequency"),this.oscillator.connect(this.audioctx.destination),this.oscillator.start(0),this.set("playing",!0))}),this.observe("frequency",function(t){return null!=this.oscillator&&this.get("playing")?this.oscillator.frequency.value=t:void 0})},data:{frequency:440,min:22,max:1760,playing:!1}})},{ractive:6}],5:[function(t,e){!function(){function t(e,n){if("function"==typeof e)return t("*",e);if("function"==typeof n)for(var i=new r(e),o=1;o<arguments.length;++o)t.callbacks.push(i.middleware(arguments[o]));else"string"==typeof e?t.show(e,n):t.start(e)}function n(e){var n=window.location.pathname+window.location.search;n!=e.canonicalPath&&(t.stop(),e.unhandled=!0,window.location=e.canonicalPath)}function i(t,e){"/"==t[0]&&0!=t.indexOf(f)&&(t=f+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(f,"")||"/",this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?t.slice(n+1):"",this.pathname=~n?t.slice(0,n):t,this.params=[],this.hash="",~this.path.indexOf("#")){var i=this.path.split("#");this.path=i[0],this.hash=i[1]||"",this.querystring=this.querystring.split("#")[0]}}function r(t,e){e=e||{},this.path=t,this.method="GET",this.regexp=o(t,this.keys=[],e.sensitive,e.strict)}function o(t,e,n,i){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,i,r,o,s){return e.push({name:r,optional:!!s}),n=n||"",""+(s?"":n)+"(?:"+(s?n:"")+(i||"")+(o||i&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))}function s(e){if(e.state){var n=e.state.path;t.replace(n,e.state)}}function a(e){if(1==u(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var n=e.target;n&&"A"!=n.nodeName;)n=n.parentNode;if(n&&"A"==n.nodeName){var i=n.getAttribute("href");if((n.pathname!=location.pathname||!n.hash&&"#"!=i)&&!n.target&&h(n.href)){var r=n.pathname+n.search+(n.hash||""),o=r+n.hash;r=r.replace(f,""),f&&o==r||(e.preventDefault(),t.show(o))}}}}function u(t){return t=t||window.event,null==t.which?t.button:t.which}function h(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),0==t.indexOf(e)}var c,p=!0,f="";t.callbacks=[],t.base=function(t){return 0==arguments.length?f:void(f=t)},t.start=function(e){if(e=e||{},!c&&(c=!0,!1===e.dispatch&&(p=!1),!1!==e.popstate&&window.addEventListener("popstate",s,!1),!1!==e.click&&window.addEventListener("click",a,!1),p)){var n=location.pathname+location.search+location.hash;t.replace(n,null,!0,p)}},t.stop=function(){c=!1,removeEventListener("click",a,!1),removeEventListener("popstate",s,!1)},t.show=function(e,n,r){var o=new i(e,n);return!1!==r&&t.dispatch(o),o.unhandled||o.pushState(),o},t.replace=function(e,n,r,o){var s=new i(e,n);return s.init=r,null==o&&(o=!0),o&&t.dispatch(s),s.save(),s},t.dispatch=function(e){function i(){var o=t.callbacks[r++];return o?void o(e,i):n(e)}var r=0;i()},t.Context=i,i.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},i.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},t.Route=r,r.prototype.middleware=function(t){var e=this;return function(n,i){return e.match(n.path,n.params)?t(n,i):void i()}},r.prototype.match=function(t,e){var n=this.keys,i=t.indexOf("?"),r=~i?t.slice(0,i):t,o=this.regexp.exec(r);if(!o)return!1;for(var s=1,a=o.length;a>s;++s){var u=n[s-1],h="string"==typeof o[s]?decodeURIComponent(o[s]):o[s];u?e[u.name]=void 0!==e[u.name]?e[u.name]:h:e.push(h)}return!0},"undefined"==typeof e?window.page=t:e.exports=t}()},{}],6:[function(t,e){!function(t){"use strict";var n=t.Ractive,i=void 0,r=function(){var t,e;return t={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},e={keys:Object.keys(t),defaults:t}}(i),o=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t,e){return t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(o,s),u="object"==typeof document,h=function(t){try{return Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(e){return function(t,e,n){t[e]=n.value}}}(u),c=function(t,e,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}return n&&Object.defineProperties(t("div"),{test:{value:0}}),Object.defineProperties}catch(i){return function(t,n){var i;for(i in n)n.hasOwnProperty(i)&&e(t,i,n[i])}}}(a,h,u),p=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=function(t){return function(e,n,i){var r;if("string"!=typeof n||!t(i))throw new Error("Bad arguments");if(r=+e.get(n)||0,!t(r))throw new Error("Cannot add to a non-numeric value");return e.set(n,r+i)}}(p),l=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(f),d=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},g=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,r,o){var s;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof i)e.then(r,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)r(e);else{try{s=e.then}catch(a){return void o(a)}if("function"==typeof s){var u,h,c;h=function(e){u||(u=!0,n(t,e,r,o))},c=function(t){u||(u=!0,o(t))};try{s.call(e,h,c)}catch(a){if(!u)return o(a),void(u=!0)}}else r(e)}}var i,r={},o={},s={};return i=function(a){var u,h,c,p,f,l,d=[],g=[],v=r;return c=function(n){return function(i){v===r&&(u=i,v=n,h=e(v===o?d:g,u),t(h))}},p=c(o),f=c(s),a(p,f),l={then:function(e,o){var s=new i(function(i,a){var u=function(t,e,r){e.push("function"==typeof t?function(e){var r;try{r=t(e),n(s,r,i,a)}catch(o){a(o)}}:r)};u(e,d,i),u(o,g,a),v!==r&&t(h)});return s}},l["catch"]=function(t){return this.then(null,t)},l},i.all=function(t){return new i(function(e,n){var i,r,o,s=[];if(!t.length)return void e(s);for(o=function(r){t[r].then(function(t){s[r]=t,--i||e(s)},n)},i=r=t.length;r--;)o(r)})},i.resolve=function(t){return new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i}(),v=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),m=["o","ms","moz","webkit"],y=function(t){return"undefined"!=typeof window?(function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<t.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,o;return n=Date.now(),i=Math.max(0,16-(n-e)),o=r(function(){t(n+i)},i),e=n+i,o})}}(t,0,window),window.requestAnimationFrame):void 0}(m),w=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),b=[],x=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},E=function(t,e,n){var i,r,o,s,a,u="/* Ractive.js component styles */\n",h={},c=[];if(e)return t.push(function(){i=t.runloop}),r=document.createElement("style"),r.type="text/css",o=document.getElementsByTagName("head")[0],a=!1,s=r.styleSheet,{add:function(t){t.css&&(h[t._guid]||(h[t._guid]=0,c.push(t.css),i.scheduleCssUpdate()),h[t._guid]+=1)},remove:function(t){t.css&&(h[t._guid]-=1,h[t._guid]||(n(c,t.css),i.scheduleCssUpdate()))},update:function(){var t;c.length?(t=u+c.join(" "),s?s.cssText=t:r.innerHTML=t,a||o.appendChild(r)):a&&o.removeChild(r)}}}(b,u,x),_=function(t,e){var n,i,r,o,s,a;for(n=[],a=t._rendering?t.fragment.docFrag:t.el,i=a.querySelectorAll('input[type="checkbox"][name="{{'+e+'}}"]'),o=i.length,s=0;o>s;s+=1)r=i[s],(r.hasAttribute("checked")||r.checked)&&n.push(r._ractive.value);return n},T=Object.prototype.hasOwnProperty,N=function(t){do if(t.context)return t.context;while(t=t.parent);return""},k=function(t,e,n,i){var r,o='Could not resolve reference - too many "../" prefixes';return t.push(function(){r=t.get}),function(t,s,a){var u,h,c,p,f,l,d,g,v;if(s=e(s),"."===s)return i(a);if("."===s.charAt(0)){if(u=i(a),h=u?u.split("."):[],"../"===s.substr(0,3)){for(;"../"===s.substr(0,3);){if(!h.length)throw new Error(o);h.pop(),s=s.substring(3)}return h.push(s),h.join(".")}return u?u+s:s.substring(1)}c=s.split("."),p=c.pop(),f=c.length?"."+c.join("."):"";do if(u=a.context,u&&(v=!0,l=u+f,d=r(t,l),(g=t._wrapped[l])&&(d=g.get()),d&&("object"==typeof d||"function"==typeof d)&&p in d))return u+"."+s;while(a=a.parent);return v||t._parent&&!t.isolated?n.call(t.data,s)?s:void 0!==r(t,s)?s:void 0:s}}(b,v,T,N),S=function(t){var e,n,i,r,o=[""];for(e=t.length;e--;)for(n=t[e],i=n.split(".");i.length>1;)i.pop(),r=i.join("."),o[r]!==!0&&(o.push(r),o[r]=!0);return o},O=function(){function t(t,n,i){var o;for(t._patternObservers.length&&r(t,n,n,i,!0),o=0;o<t._deps.length;o+=1)e(t,n,o,i)}function e(t,e,r,o){var s=t._deps[r];s&&(n(s[e]),o||i(t._depsMap[e],t,r))}function n(t){var e,n;if(t)for(n=t.length,e=0;n>e;e+=1)t[e].update()}function i(t,n,i,r){var o;if(t)for(o=t.length;o--;)e(n,t[o],i,r)}function r(t,e,n,i,s){var u,h,c,p,f,l,d,g;for(u=t._patternObservers.length;u--;)h=t._patternObservers[u],h.regex.test(n)&&h.update(n);i||(g=function(e){if(c=t._depsMap[e])for(u=c.length;u--;)p=c[u],f=a.exec(p)[0],l=n?n+"."+f:f,r(t,p,l)},s?(d=o(n),d.forEach(g)):g(e))}function o(t){var e,n,i,r,o,a;for(e=t.split("."),n=s(e.length),o=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)a=n[r].map(i).join("."),o[a]||(o.push(a),o[a]=!0);return o}function s(t){var e,n,i,r,o,s="";if(!u[t]){for(i=[];s.length<t;)s+=1;for(e=parseInt(s,2),r=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;i[o]=Array.prototype.map.call(n,r)}u[t]=i}return u[t]}var a,u={};return a=/[^\.]+$/,t.multiple=function(t,n,i){var o,s,a;if(a=n.length,t._patternObservers.length)for(o=a;o--;)r(t,n[o],n[o],i,!0);for(o=0;o<t._deps.length;o+=1)if(t._deps[o])for(s=a;s--;)e(t,n[s],o,i)},t}(),R=function(t){var e,n,i,r;return e=function(t,e){var o=[];return o.detachQueue=[],o.remove=i,o.init=r,o._check=n,o._callback=t,o._previous=e,e&&e.push(o),o},n=function(){var t;if(this._ready&&!this.length){for(;t=this.detachQueue.pop();)t.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},i=function(e){t(this,e),this._check()},r=function(){this._ready=!0,this._check()},e}(x),A=function(t,e,n,i,r,o,s,a){function u(){var t,n,i;for(w&&(w.focus(),w=null);t=T.pop();)t.update().deferred=!1;for(;t=b.pop();)t._sort();for(;t=x.pop();)t.init();for(;t=E.pop();)t.init();for(;t=_.pop();)t.update();for(;t=N.pop();)t.active=!1;for(;t=M.pop();)if(M[t._guid]=!1,t._changes.length){for(i={};n=t._changes.pop();)i[n]=f(t,n);t.fire("change",i)}d&&(e.update(),d=!1)}function h(){var t,e,n;for(n=M.length;n--;)t=M[n],t._changes.length&&(e=o(t._changes),s.multiple(t,e,!0));for(c();v;){for(v=!1;t=S.pop();)t.update();for(;t=k.pop();)t.update().deferred=!1;for(;t=O.pop();)t.deferredUpdate();for(;t=A.pop();)l(t.root,t.keypath,i(t.root,t.keypath));for(;t=C.pop();)t.update()}}function c(){var t,e,n;if(L.length)for(t=L.splice(0,L.length);e=t.pop();)e.keypath||(n=r(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):L.push(e))}t.push(function(){f=t.get,l=t.set});var p,f,l,d,g,v=!1,m=!1,y=0,w=null,b=[],x=[],E=[],_=[],T=[],N=[],k=[],S=[],O=[],R={},A=[],C=[],L=[],M=[];return p={start:function(t,e){this.addInstance(t),m||(y+=1,g=a(e,g))},end:function(){return m?void c():(--y||(m=!0,h(),m=!1,u()),g.init(),void(g=g._previous))},trigger:function(){return y||m?void c():(m=!0,h(),m=!1,void u())},focus:function(t){w=t},addInstance:function(t){t&&!M[t._guid]&&(M.push(t),M[M._guid]=!0)},addLiveQuery:function(t){b.push(t)},addDecorator:function(t){x.push(t)},addTransition:function(t){t._manager=g,g.push(t),E.push(t)},addObserver:function(t){_.push(t)},addAttribute:function(t){T.push(t)},addBinding:function(t){t.active=!0,N.push(t)},scheduleCssUpdate:function(){y||m?d=!0:e.update()},addEvaluator:function(t){v=!0,k.push(t)},addComputation:function(t){v=!0,S.push(t)},addSelectValue:function(t){v=!0,O.push(t)},addCheckbox:function(t){R[t.keypath]||(v=!0,A.push(t))},addRadio:function(t){v=!0,C.push(t)},addUnresolved:function(t){v=!0,L.push(t)},removeUnresolved:function(t){n(L,t)},detachWhenReady:function(t){g.detachQueue.push(t)}},t.runloop=p,p}(b,E,x,_,k,S,O,R),C=function(t,e,n){var i=[],r={tick:function(){var o,s,a;for(a=e(),n.start(),o=0;o<i.length;o+=1)s=i[o],s.tick(a)||i.splice(o--,1);n.end(),i.length?t(r.tick):r.running=!1},add:function(e){i.push(e),r.running||(r.running=!0,t(r.tick))},abort:function(t,e){for(var n,r=i.length;r--;)n=i[r],n.root===e&&n.keypath===t&&n.stop()}};return r}(y,w,A),L=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),M=function(t){return function(e){var n,i;if(!e||"object"!=typeof e)return e;if(t(e))return e.slice();n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}}(L),I={},F=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},P=function(t,e){var n,i,r,o;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),i=Math.max(0,e.length-2),r=void 0!==e[1]?e[1]:t.length-n,r=Math.min(r,t.length-n),o=i-r,{start:n,balance:o,added:i,removed:r}):null},j={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},D=function lo(t,e,n){var i,r;if(n||(r=t._wrapped[e])&&r.teardown()!==!1&&(t._wrapped[e]=null),t._cache[e]=void 0,i=t._cacheMap[e])for(;i.length;)lo(t,i.pop())},U=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),q=function(t,e,n,i,r){function o(t,a,u,h){var c,p,f,l,d,g,v,m;e(t._cache[a],u)||(d=t._computations[a],g=t._wrapped[a],v=t._evaluators[a],d&&!d.setting&&d.set(u),g&&g.reset&&(m=g.reset(u)!==!1,m&&(u=g.get())),v&&(v.value=u),d||v||m||(c=a.split("."),p=c.pop(),f=c.join("."),g=t._wrapped[f],g&&g.set?g.set(p,u):(l=g?g.get():s(t,f),l||(l=n(p),o(t,f,l,!0)),l[p]=u)),i(t,a,m),h||(t._changes.push(a),r(t,a)))}var s;return t.push(function(){s=t.get}),t.set=o,o}(b,d,U,D,O),B=function(t,e,n,i){return function(r,o,s,a){var u,h,c,p,f,l,d,g,v,m;if(u=r.root,h=r.keypath,u._changes.push(h),"sort"===s||"reverse"===s)return void i(u,h,o);if(a){for(c=a.balance?o.length-Math.min(a.balance,0):a.added,f=a.start;c>f;f+=1)e(u,h+"."+f);if(p=function(e){e.keypath===h&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.splice(a):e.update()},u._deps.forEach(function(t){var e=t[h];e&&e.forEach(p)}),a.added&&a.removed)for(l=Math.max(a.added,a.removed),d=a.start,g=d+l,m=a.added===a.removed,f=d;g>f;f+=1)v=h+"."+f,n(u,v);m||(e(u,h+".length"),n(u,h+".length",!0))}}}(j,D,O,q),W=function(t,e,n,i,r){var o,s,a,u=[],h=["pop","push","reverse","shift","sort","splice","unshift"];return h.forEach(function(o){var s=function(){var e,s,a,u,h;for(e=n(this,o,Array.prototype.slice.call(arguments)),s=i(this,e),a=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,h=this._ractive.wrappers.length;h--;)u=this._ractive.wrappers[h],t.start(u.root),r(u,this,o,s),t.end();return this._ractive.setting=!1,a};e(u,o,{value:s})}),o={},o.__proto__?(s=function(t){t.__proto__=u},a=function(t){t.__proto__=Array.prototype}):(s=function(t){var n,i;for(n=h.length;n--;)i=h[n],e(t,i,{value:u[i],configurable:!0})},a=function(t){var e;for(e=h.length;e--;)delete t[h[e]]}),s.unpatch=a,s}(A,h,F,P,B),z=function(t,e,n){var i,r,o;return i={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(e,i,r){this.root=e,this.value=i,this.keypath=r,i._ractive||(t(i,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(i)),i._ractive.instances[e._guid]||(i._ractive.instances[e._guid]=0,i._ractive.instances.push(e)),i._ractive.instances[e._guid]+=1,i._ractive.wrappers.push(this)},r.prototype={get:function(){return this.value},teardown:function(){var t,e,i,r,s;if(t=this.value,e=t._ractive,i=e.wrappers,r=e.instances,e.setting)return!1;if(s=i.indexOf(this),-1===s)throw new Error(o);if(i.splice(s,1),i.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(s=r.indexOf(this.root),-1===s)throw new Error(o);r.splice(s,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",i}(h,L,W),Q=function(t,e,n,i,r){function o(e,n,o){function s(e){var o,s;e.value=n,e.updating||(s=e.ractive,o=e.keypath,e.updating=!0,t.start(s),s._changes.push(o),i(s,o),r(s,o),t.end(),e.updating=!1)}var a,u,h,c,p,f;if(a=e.obj,u=e.prop,o&&!o.configurable){if("length"===u)return;throw new Error('Cannot use magic mode with property "'+u+'" - object is not configurable')}o&&(h=o.get,c=o.set),p=h||function(){return n},f=function(t){c&&c(t),n=h?h():t,f._ractiveWrappers.forEach(s)},f._ractiveWrappers=[e],Object.defineProperty(a,u,{get:p,set:f,enumerable:!0,configurable:!0})}var s,a;try{Object.defineProperty({},"test",{value:0})}catch(u){return!1}return s={filter:function(t,e,i){var r,o,s,a,u;return e?(r=e.split("."),o=r.pop(),s=r.join("."),(a=i._wrapped[s])&&!a.magic?!1:(u=i.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new a(t,e,n)}},a=function(t,e,n){var i,r,s,a;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,i=n.split("."),this.prop=i.pop(),r=i.join("."),this.obj=r?t.get(r):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?void(-1===a.indexOf(this)&&a.push(this)):void o(this,e,s)},a.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,i(this.ractive,this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}},s}(A,U,L,D,O),$=function(t,e){if(!t)return!1;var n,i;return n={filter:function(n,i,r){return t.filter(n,i,r)&&e.filter(n)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(n,i,r){this.value=i,this.magic=!0,this.magicWrapper=t.wrap(n,i,r),this.arrayWrapper=e.wrap(n,i,r)},i.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}},n}(Q,z),J=function(t,e,n,i){function r(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,i){var o;return"string"==typeof n?(o={},o[e+n]=i,o):"object"==typeof n?e?r(n,t):n:void 0}),s[t]}var s={};return function(r,s,a,u){var h,c,p,f;for(h=r.adapt.length,c=0;h>c;c+=1){if(p=r.adapt[c],"string"==typeof p){if(!t[p])throw new Error('Missing adaptor "'+p+'"');p=r.adapt[c]=t[p]}if(p.filter(a,s,r))return f=r._wrapped[s]=p.wrap(r,a,s,o(s)),f.value=a,a}return u||(r.magic?i.filter(a,s,r)?r._wrapped[s]=i.wrap(r,a,s):n.filter(a,s,r)&&(r._wrapped[s]=n.wrap(r,a,s)):r.modifyArrays&&e.filter(a,s,r)&&(r._wrapped[s]=e.wrap(r,a,s))),a}}(I,z,Q,$),V=function(){function t(t,e){var n,i,r;for(n=e.split(".");n.length;)n.pop(),i=n.join("."),r=t._depsMap[i]||(t._depsMap[i]=[]),void 0===r[e]&&(r[e]=0,r[r.length]=e),r[e]+=1,e=i}return function(e){var n,i,r,o,s;r=e.root,o=e.keypath,s=e.priority,n=r._deps[s]||(r._deps[s]={}),i=n[o]||(n[o]=[]),i.push(e),e.registered=!0,o&&t(r,o)}}(),H=function(){function t(t,e){var n,i,r;for(n=e.split(".");n.length;)n.pop(),i=n.join("."),r=t._depsMap[i],r[e]-=1,r[e]||(r.splice(r.indexOf(e),1),r[e]=void 0),e=i}return function(e){var n,i,r,o,s;if(r=e.root,o=e.keypath,s=e.priority,n=r._deps[s][o],i=n.indexOf(e),-1===i||!e.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");n.splice(i,1),e.registered=!1,o&&t(r,o)}}(),X=function(t,e,n,i,r,o){var s,a;t.push(function(){s=t.get,a=t.set});var u=function(t,e,n,i,o){this.root=t,this.keypath=e,this.priority=o,this.otherInstance=n,this.otherKeypath=i,r(this),this.value=s(this.root,this.keypath)};return u.prototype={update:function(){var t;this.updating||this.counterpart&&this.counterpart.updating||(t=s(this.root,this.keypath),n(t)&&t._ractive&&t._ractive.setting||i(t,this.value)||(this.updating=!0,e.addInstance(this.otherInstance),a(this.otherInstance,this.otherKeypath,t),this.value=t,this.updating=!1))},reassign:function(t){o(this),o(this.counterpart),this.keypath=t,this.counterpart.otherKeypath=t,r(this),r(this.counterpart)},teardown:function(){o(this)}},function(t,e,n,i){var r,o,s,a,h,c;r=n+"="+i,s=t.bindings,s[r]||(s[r]=!0,o=t.instance,a=t.parentFragment.priority,h=new u(e,n,o,i,a),s.push(h),o.twoway&&(c=new u(o,i,e,n,1),s.push(c),h.counterpart=c,c.counterpart=h))}}(b,A,L,d,V,H),G=function(t,e,n){function i(t,i,r,o,s){n(i,o,s,!0),e(i.component,t,r,o)}var r;return t.push(function(){r=t.get}),function(t,e){var n,o,s,a,u;if(n=t._parent,o=t.component.parentFragment,o.indexRefs&&void 0!==(u=o.indexRefs[e]))return t.component.indexRefBindings[e]=e,u;do if(o.context&&(s=o.context+"."+e,a=r(n,s),void 0!==a))return i(n,t,s,e,a),a;while(o=o.parent);return a=r(n,e),void 0!==a?(i(n,t,e,e,a),a):void 0}}(b,X,q),K={FAILED_LOOKUP:!0},Y=function(t,e,n,i,r,o){function s(t,e,n){var s,u,h,c,p=t._cache;return void 0===p[e]?((u=t._computations[e])?s=u.value:(h=t._wrapped[e])?s=h.value:e?s=(c=t._evaluators[e])?c.value:a(t,e):(i(t,"",t.data),s=t.data),p[e]=s):s=p[e],s===o&&(s=t._parent&&!t.isolated?r(t,e,n):void 0),n&&n.evaluateWrapped&&(h=t._wrapped[e])&&(s=h.get()),s}function a(t,r){var a,u,h,c,p,f,l,d;return a=r.split("."),u=a.pop(),h=a.join("."),c=s(t,h),(l=t._wrapped[h])&&(c=l.get()),null!==c&&void 0!==c?((p=t._cacheMap[h])?-1===p.indexOf(r)&&p.push(r):t._cacheMap[h]=[r],"object"!=typeof c||u in c?(d=!e.call(c,u),f=d?n(c[u]):c[u],f=i(t,r,f,!1),t._cache[r]=f,f):t._cache[r]=o):void 0}return t.get=s,s}(b,T,M,J,G,K),Z=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),te=function(){var t=Object.prototype.toString;return function(e){return"object"==typeof e&&"[object Object]"===t.call(e)}}(),ee=function(t,e,n,i,r){var o,s,a;return t.push(function(){s=t.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return r(t)&&r(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var i,r,o,a;if(!n(t)||!n(e))return null;for(i=[],r=[],a=o=Math.min(t.length,e.length);a--;)r[a]=s(t[a],e[a]);for(a=o;a<t.length;a+=1)i[a]=t[a];for(a=o;a<e.length;a+=1)i[a]=e[a];return function(t){for(var e=o;e--;)i[e]=r[e](t);return i}},object:function(t,n){var r,o,a,u,h;if(!i(t)||!i(n))return null;r=[],u={},a={};for(h in t)e.call(t,h)&&(e.call(n,h)?(r.push(h),a[h]=s(t[h],n[h])):u[h]=t[h]);for(h in n)e.call(n,h)&&!e.call(t,h)&&(u[h]=n[h]);return o=r.length,function(t){for(var e,n=o;n--;)e=r[n],u[e]=a[e](t);return u}},cssLength:function(t,e){var n,i,r,o,s,u,h,c;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=a.exec(t),i=a.exec(e),r=n?n[2]:"",o=i?i[2]:"",r&&o&&r!==o?null:(h=r||o,s=n?+n[1]:0,u=i?+i[1]:0,c=u-s,c?function(t){return s+t*c+h}:function(){return s+h}))}}}(b,T,L,te,p),ne=function(t,e,n){function i(t){return function(){return t}}var r=function(t,r,o,s){if(t===r)return i(r);if(s){if(o.interpolators[s])return o.interpolators[s](t,r)||i(r);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,r)||n.array(t,r)||n.object(t,r)||n.cssLength(t,r)||i(r)};return t.interpolate=r,r}(b,Z,ee),ie=function(t,e,n,i){var r=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return r.prototype={tick:function(){var n,r,o,s,a,u;return u=this.keypath,this.running?(s=Date.now(),n=s-this.startTime,n>=this.duration?(null!==u&&(e.start(this.root),i(this.root,u,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==u&&(o=this.interpolator(r),e.start(this.root),i(this.root,u,o),e.end()),this.step&&this.step(r,o),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},r}(Z,A,ne,q),re=function(t,e,n,i,r,o){function s(e,s,a,h){var c,p,f,l;return s&&(s=n(s)),null!==s&&(l=r(e,s)),i.abort(s,e),t(l,a)?(h.complete&&h.complete(h.to),u):(h.easing&&(c="function"==typeof h.easing?h.easing:e.easing[h.easing],"function"!=typeof c&&(c=null)),p=void 0===h.duration?400:h.duration,f=new o({keypath:s,from:l,to:a,root:e,duration:p,easing:c,interpolator:h.interpolator,step:h.step,complete:h.complete}),i.add(f),e._animations.push(f),f)}var a=function(){},u={stop:a};return function(t,n,i){var r,o,u,h,c,p,f,l,d,g,v,m,y,w;if(r=new e(function(t){o=t}),"object"==typeof t){i=n||{},p=i.easing,f=i.duration,c=[],l=i.step,d=i.complete,(l||d)&&(v={},i.step=null,i.complete=null,g=function(t){return function(e,n){v[t]=n}});for(u in t)t.hasOwnProperty(u)&&((l||d)&&(m=g(u),i={easing:p,duration:f},l&&(i.step=m)),i.complete=d?m:a,c.push(s(this,u,t[u],i)));return(l||d)&&(w={easing:p,duration:f},l&&(w.step=function(t){l(t,v)}),d&&r.then(function(t){d(t,v)}),w.complete=o,y=s(this,null,null,w),c.push(y)),{stop:function(){for(var t;t=c.pop();)t.stop();y&&y.stop()}}}return i=i||{},i.complete&&r.then(i.complete),i.complete=o,h=s(this,t,n,i),r.stop=function(){h.stop()},r}}(d,g,v,C,Y,ie),oe=function(){return this.fragment.detach()},se=function(t){return this.el?this.fragment.find(t):null},ae=function(t,e,n){var i,r,o,s,a,u,h;if(t){for(i=n("div"),r=["matches","matchesSelector"],h=function(t){return function(e,n){return e[t](n)}},a=r.length;a--;){if(o=r[a],i[o])return h(o);for(u=e.length;u--;)if(s=e[a]+o.substr(0,1).toUpperCase()+o.substring(1),i[s])return h(s)}return function(t,e){var n,i;for(n=(t.parentNode||t.document).querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1}}}(u,m,a),ue=function(t){return function(e,n){var i=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return i?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(ae),he=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},ce=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,i;for(n=[e],i=t(e);i;)n.push(i),i=t(i);return n}return function(t,n){var i,r,o,s,a,u,h,c,p,f;for(i=e(t.component||t._ractive.proxy),r=e(n.component||n._ractive.proxy),o=i[i.length-1],s=r[r.length-1];o&&o===s;)i.pop(),r.pop(),a=o,o=i[i.length-1],s=r[r.length-1];if(o=o.component||o,s=s.component||s,p=o.parentFragment,f=s.parentFragment,p===f)return u=p.items.indexOf(o),h=f.items.indexOf(s),u-h||i.length-r.length;if(c=a.fragments)return u=c.indexOf(p),h=c.indexOf(f),u-h||i.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),pe=function(t){return function(e,n){var i;return e.compareDocumentPosition?(i=e.compareDocumentPosition(n),2&i?1:-1):t(e,n)}}(ce),fe=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(pe,ce),le=function(t){return function(){this._dirty||(t.addLiveQuery(this),this._dirty=!0)}}(A),de=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);
-1!==e&&this.splice(e,1)},ge=function(t,e,n,i,r,o){return function(s,a,u,h){var c=[];return t(c,{selector:{value:a},live:{value:u},_isComponentQuery:{value:h},_test:{value:e}}),u?(t(c,{cancel:{value:n},_root:{value:s},_sort:{value:i},_makeDirty:{value:r},_remove:{value:o},_dirty:{value:!1,writable:!0}}),c):c}}(c,ue,he,fe,le,de),ve=function(t){return function(e,n){var i,r;return this.el?(n=n||{},i=this._liveQueries,(r=i[e])?n&&n.live?r:r.slice():(r=t(this,e,!!n.live,!1),r.live&&(i.push(e),i[e]=r),this.fragment.findAll(e,r),r)):[]}}(ge),me=function(t){return function(e,n){var i,r;return n=n||{},i=this._liveComponentQueries,(r=i[e])?n&&n.live?r:r.slice():(r=t(this,e,!!n.live,!0),r.live&&(i.push(e),i[e]=r),this.fragment.findAllComponents(e,r),r)}}(ge),ye=function(t){return this.fragment.findComponent(t)},we=function(t){var e,n,i,r=this._subs[t];if(r)for(e=Array.prototype.slice.call(arguments,1),n=0,i=r.length;i>n;n+=1)r[n].apply(this,e)},be=function(t,e,n,i){var r,o={};t.push(function(){r=t.get});var s=function(t,e){this.root=t,this.ref=e,this.parentFragment=o,t._unresolvedImplicitDependencies[e]=!0,t._unresolvedImplicitDependencies.push(this),n.addUnresolved(this)};return s.prototype={resolve:function(){var t=this.root;i(t,this.ref),t._unresolvedImplicitDependencies[this.ref]=!1,e(t._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}},s}(b,x,A,O),xe=function(t,e,n){var i={isTopLevel:!0};return function(r){var o;return r=t(r),o=e(this,r,i),this._captured&&this._captured[r]!==!0&&(this._captured.push(r),this._captured[r]=!0,void 0===o&&this._unresolvedImplicitDependencies[r]!==!0&&new n(this,r)),o}}(v,Y,be),Ee=function(t){var e;return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},_e=function(t){return function(e,n){if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.fragment.pNode=this.el=e}}(Ee),Te=function(t,e){var n,i,r,o;return n={},i=0,r=t.map(function(t,r){var s,a,u;a=i,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===i&&(i+=1),s!==r&&(o=!0),n[s]=!0,s}),r.unchanged=!o,r},Ne=function(t,e){return function(n,i,r,o){var s;n._changes.push(i),s=function(e){e.type===t.REFERENCE?e.update():e.keypath===i&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.merge(r):e.update()},n._deps.forEach(function(t){var e=t[i];e&&e.forEach(s)}),o||e(n,i+".length",!0)}}(j,O),ke=function(t,e,n,i,r,o,s){function a(t){return JSON.stringify(t)}function u(t){if(t===!0)return a;if("string"==typeof t)return h[t]||(h[t]=function(e){return e[t]}),h[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var h={};return function(a,h,c){var p,f,l,d,g,v,m,y;if(p=this.get(a),!n(p)||!n(h))return this.set(a,h,c&&c.complete);if(g=p.length===h.length,c&&c.compare){d=u(c.compare);try{f=p.map(d),l=h.map(d)}catch(w){if(this.debug)throw w;e("Merge operation: comparison failed. Falling back to identity checking"),f=p,l=h}}else f=p,l=h;return v=o(f,l),m=new i(function(t){y=t}),t.start(this,y),r(this,a,h,!0),s(this,a,v,g),t.end(),c&&c.complete&&m.then(c.complete),m}}(A,Z,L,g,q,Te,Ne),Se=function(t,e,n){var i=function(t,e,n,i){var r=this;this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.debug=i.debug,this.proxy={update:function(){r.reallyUpdate()}},this.priority=0,this.context=i&&i.context?i.context:t};return i.prototype={init:function(t){t!==!1?this.update():this.value=n(this.root,this.keypath)},update:function(){return this.defer&&this.ready?void t.addObserver(this.proxy):void this.reallyUpdate()},reallyUpdate:function(){var t,i;if(t=this.value,i=n(this.root,this.keypath),this.value=i,!this.updating){if(this.updating=!0,!e(i,t)||!this.ready)try{this.callback.call(this.context,i,t,this.keypath)}catch(r){if(this.debug||this.root.debug)throw r}this.updating=!1}}},i}(A,d,Y),Oe=function(t){return function(e,n){var i,r,o,s,a,u,h;for(i=n.split("."),s=[],u=function(n){var i,r;i=e._wrapped[n]?e._wrapped[n].get():e.get(n);for(r in i)!i.hasOwnProperty(r)||"_ractive"===r&&t(i)||a.push(n+"."+r)},h=function(t){return t+"."+r};r=i.shift();)"*"===r?(a=[],s.forEach(u),s=a):s[0]?s=s.map(h):s[0]=r;return o={},s.forEach(function(t){o[t]=e.get(t)}),o}}(L),Re=function(t,e,n,i){var r,o=/\*/;return r=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.debug=i.debug,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=i&&i.context?i.context:t},r.prototype={init:function(t){var e,n;if(e=i(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(n);else this.values=e},update:function(e){var n;{if(!o.test(e))return this.defer&&this.ready?void t.addObserver(this.getProxy(e)):void this.reallyUpdate(e);n=i(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(e)}},reallyUpdate:function(t){var i=n(this.root,t);if(this.updating)return void(this.values[t]=i);if(this.updating=!0,!e(i,this.values[t])||!this.ready){try{this.callback.call(this.context,i,this.values[t],t)}catch(r){if(this.debug||this.root.debug)throw r}this.values[t]=i}this.updating=!1},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},r}(A,d,Y,Oe),Ae=function(t,e,n,i,r){var o=/\*/,s={};return function(a,u,h,c){var p,f;return u=t(u),c=c||s,o.test(u)?(p=new r(a,u,h,c),a._patternObservers.push(p),f=!0):p=new i(a,u,h,c),e(p),p.init(c.init),p.ready=!0,{cancel:function(){var t;f&&(t=a._patternObservers.indexOf(p),-1!==t&&a._patternObservers.splice(t,1)),n(p)}}}}(v,V,H,Se,Re),Ce=function(t,e){return function(n,i,r){var o,s,a,u;if(t(n)){r=i,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(i=s[n],o.push(this.observe(n,i,r)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return r=i,i=n,n="",e(this,n,i,r);if(a=n.split(" "),1===a.length)return e(this,n,i,r);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(e(this,n,i,r));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(te,Ae),Le=function(t,e){var n,i;if(!e)if(t)this._subs[t]=[];else for(t in this._subs)delete this._subs[t];n=this._subs[t],n&&(i=n.indexOf(e),-1!==i&&n.splice(i,1))},Me=function(t,e){var n,i,r=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){r.off(t,e)}}},Ie=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)}}()}return t}(),Fe=function(t,e){return function(n,i){var r,o,s,a,u;if(n.owner=i.owner,s=n.parent=n.owner.parentFragment,n.root=i.root,n.pNode=i.pNode,n.pElement=i.pElement,n.context=i.context,n.owner.type===t.SECTION&&(n.index=i.index),s&&(a=s.indexRefs)){n.indexRefs=e(null);for(u in a)n.indexRefs[u]=a[u]}for(n.priority=s?s.priority+1:1,i.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[i.indexRef]=i.index),n.items=[],r=i.descriptor?i.descriptor.length:0,o=0;r>o;o+=1)n.items[n.items.length]=n.createItem({parentFragment:n,pElement:i.pElement,descriptor:i.descriptor[o],index:o})}}(j,Ie),Pe=function(t,e){return t.substr(0,e.length+1)===e+"."},je=function(t){return function(e,n){return e===n||t(e,n)}}(Pe),De=function(t){return function(e,n,i){return e===n?i:t(e,n)?e.replace(n+".",i+"."):void 0}}(Pe),Ue=function(t,e){return function(n,i,r,o){n[i]&&!t(n[i],o)&&(n[i]=e(n[i],r,o))}}(je,De),qe=function(t){return function(e,n,i,r){void 0===this.html&&(t(this,"context",i,r),this.indexRefs&&void 0!==this.indexRefs[e]&&this.indexRefs[e]!==n&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.reassign(e,n,i,r)}))}}(Ue),Be=function(t,e){return{init:t,reassign:e}}(Fe,qe),We=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var i,r,o={};try{e("table").innerHTML="foo"}catch(s){i=!0,r={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,s,a){var u,h,c=[];if(e)for(i&&(h=r[o])?(u=n("DIV"),u.innerHTML=h[0]+e+h[1],u=u.querySelector(".x")):s===t.svg?(u=n("DIV"),u.innerHTML='<svg class="x">'+e+"</svg>",u=u.querySelector(".x")):(u=n(o),u.innerHTML=e);u.firstChild;)c.push(u.firstChild),a.appendChild(u.firstChild);return c}}(s,a),ze=function(){var t,e=this.node;return e&&(t=e.parentNode)?(t.removeChild(e),e):void 0},Qe=function(t,e){var n,i,r;return i=/</g,r=/>/g,n=function(e,n){this.type=t.TEXT,this.descriptor=e.descriptor,n&&(this.node=document.createTextNode(e.descriptor),n.appendChild(this.node))},n.prototype={detach:e,reassign:function(){},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(i,"&lt;").replace(r,"&gt;")}},n}(j,ze),$e=function(t,e){return function(n){n.keypath?e(n):t.removeUnresolved(n)}}(A,H),Je=function(t){var e=function(e,n,i,r){this.root=e,this.ref=n,this.parentFragment=i,this.resolve=r,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(A),Ve=function(t,e,n,i,r){function o(t,e,i){var r,o,s;if(!a.test(t.toString()))return n(t,"_nowrap",{value:!0}),t;if(!t["_"+e._guid]){n(t,"_"+e._guid,{value:function(){var n,i,r,s;if(n=e._captured,n||(e._captured=[]),i=t.apply(e,arguments),e._captured.length)for(r=o.length;r--;)s=o[r],s.updateSoftDependencies(e._captured);return e._captured=n,i},writable:!0});for(r in t)t.hasOwnProperty(r)&&(t["_"+e._guid][r]=t[r]);t["_"+e._guid+"_evaluators"]=[]}return o=t["_"+e._guid+"_evaluators"],s=o.indexOf(i),-1===s&&o.push(i),t["_"+e._guid]}var s,a;return a=/this/,s=function(e,n,r,s,a){var u;this.evaluator=r,this.keypath=n,this.root=e,this.argNum=s,this.type=t.REFERENCE,this.priority=a,u=e.get(n),"function"==typeof u&&(u=o(u,e,r)),this.value=r.values[s]=u,i(this)},s.prototype={update:function(){var t=this.root.get(this.keypath);"function"!=typeof t||t._nowrap||(t=o(t,this.root,this.evaluator)),e(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){r(this)}},s}(j,d,h,V,H),He=function(t,e,n){var i=function(t,n,i){this.root=t,this.keypath=n,this.priority=i.priority,this.evaluator=i,e(this)};return i.prototype={update:function(){var e=this.root.get(this.keypath);t(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){n(this)}},i}(d,V,H),Xe=function(t,e,n,i,r,o,s,a){function u(t,e){var n,i;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),c[t])return c[t];for(i=[];e--;)i[e]="_"+e;return n=new Function(i.join(","),"return("+t+")"),c[t]=n,n}var h,c={};return h=function(t,e,n,i,r,o){var a=this;a.root=t,a.uniqueString=n,a.keypath=e,a.priority=o,a.fn=u(i,r.length),a.values=[],a.refs=[],r.forEach(function(e,n){e&&(e.indexRef?a.values[n]=e.value:a.refs.push(new s(t,e.keypath,a,n,o)))}),a.selfUpdating=a.refs.length<=1},h.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(t.addEvaluator(this),this.deferred=!0)},update:function(){var t;if(this.evaluating)return this;this.evaluating=!0;try{t=this.fn.apply(null,this.values)}catch(s){this.root.debug&&e('Error evaluating "'+this.uniqueString+'": '+s.message||s),t=void 0}return n(t,this.value)||(this.value=t,i(this.root,this.keypath),o(this.root,this.keypath,t,!0),r(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();i(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var t=this.refs.length;t--;)this.refs[t].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(t){var e,n,i;for(this.softRefs||(this.softRefs=[]),e=this.softRefs.length;e--;)i=this.softRefs[e],t[i.keypath]||(this.softRefs.splice(e,1),this.softRefs[i.keypath]=!1,i.teardown());for(e=t.length;e--;)n=t[e],this.softRefs[n]||(i=new a(this.root,n,this),this.softRefs.push(i),this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},h}(A,Z,d,D,O,J,Ve,He),Ge=function(t,e,n,i,r){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){return e[n]?e[n].value||e[n].keypath:"undefined"})}function s(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var a=function(i,r,o,s){var a,u,h,c=this;return a=i.root,this.root=a,this.callback=s,this.owner=i,this.str=o.s,this.args=h=[],this.unresolved=[],this.pending=0,u=r.indexRefs,o.r&&o.r.length?(o.r.forEach(function(i,o){var s,p,f;return u&&void 0!==(s=u[i])?void(h[o]={indexRef:i,value:s}):(p=e(a,i,r))?void(h[o]={keypath:p}):(h[o]=void 0,c.pending+=1,f=new n(a,i,r,function(e){c.resolve(o,e),t(c.unresolved,f)}),void c.unresolved.push(f))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return a.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t;this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():(t=new i(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=t,t.update())},reassign:function(t,e,n,i){var o;this.args.forEach(function(s){var a;s.keypath&&(a=r(s.keypath,n,i))?(s.keypath=a,o=!0):s.indexRef===t&&(s.value=e,o=!0)}),o&&this.bubble()}},a}(x,k,Je,Xe,De),Ke=function(t,e,n,i,r,o,s){var a=function(r,o,a){var h,c,p,f,l,d=this;return h=r.root,c=r.parentFragment,this.ref=o.r,this.root=r.root,this.mustache=r,this.callback=a,this.pending=0,this.unresolved=[],l=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],o.m.forEach(function(o,a){var g,v,m,y,w,b;return"string"==typeof o?void(d.members[a]=o):o.t===t.REFERENCE?(g=o.n,v=c.indexRefs,v&&void 0!==(m=v[g])?(l[a]=m,void d.indexRefMembers.push({ref:g,index:a})):(f=!0,y=function(t){var e=new u(h,t,r.priority,d,a);d.keypathObservers.push(e)},(p=n(h,g,c))?void y(p):(l[a]=void 0,d.pending+=1,w=new i(h,g,c,function(t){d.resolve(a,t),e(d.unresolved,w)}),d.unresolved.push(w),null))):(f=!0,d.pending+=1,b=new s(d,c,o,function(t){d.resolve(a,t),e(d.unresolved,b)}),void d.unresolved.push(b))}),f?(this.ready=!0,void this.bubble()):(p=this.getKeypath(),void a(p))};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&this.callback(this.getKeypath())},resolve:function(t,e){var n=new u(this.root,e,this.mustache.priority,this,t);n.update(),this.keypathObservers.push(n),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},reassign:function(t,e){var n,i,r;for(i=this.indexRefMembers.length;i--;)r=this.indexRefMembers[i],r.ref===t&&(n=!0,this.members[r.index]=e);n&&this.bubble()}};var u=function(t,e,n,i,o){this.root=t,this.keypath=e,this.priority=n,this.resolver=i,this.index=o,r(this),this.update()};return u.prototype={update:function(){var t=this.resolver;t.members[this.index]=this.root.get(this.keypath),t.bubble()},teardown:function(){o(this)}},a}(j,x,k,Je,V,H,Ge),Ye=function(t,e,n,i){return function(r,o){var s,a,u,h,c,p,f;c=o.parentFragment,p=o.descriptor,r.root=c.root,r.parentFragment=c,r.descriptor=o.descriptor,r.index=o.index||0,r.priority=c.priority,r.type=o.descriptor.t,f=function(t){r.resolve(t)},(s=p.r)&&(u=c.indexRefs,u&&void 0!==(h=u[s])?(r.indexRef=s,r.value=h,r.render(r.value)):(a=e(r.root,s,r.parentFragment),void 0!==a?f(a):(r.ref=s,t.addUnresolved(r)))),o.descriptor.x&&(r.resolver=new i(r,c,o.descriptor.x,f)),o.descriptor.kx&&(r.resolver=new n(r,o.descriptor.kx,f)),r.descriptor.n&&!r.hasOwnProperty("value")&&r.render(void 0)}}(A,k,Ke,Ge),Ze=function(t,e){var n={evaluateWrapped:!0};return function(){var i=e(this.root,this.keypath,n);t(i,this.value)||(this.render(i),this.value=i)}}(d,Y),tn=function(t,e,n){return function(i){var r;if(i!==this.keypath){if(this.registered&&(n(this),this.type===t.SECTION))for(r=this.fragments.length;r--;)this.fragments[r].reassign(null,null,this.keypath,i);this.keypath=i,e(this),this.update()}}}(j,V,H),en=function(t){return function(e,n,i,r){var o,s;if(this.resolver?this.resolver.reassign(e,n,i,r):this.keypath?(o=t(this.keypath,i,r),o&&this.resolve(o)):void 0!==e&&this.indexRef===e&&(this.value=n,this.render(n)),this.fragments)for(s=this.fragments.length;s--;)this.fragments[s].reassign(e,n,i,r)}}(De),nn=function(t,e,n,i){return{init:t,update:e,resolve:n,reassign:i}}(Ye,Ze,tn,en),rn=function(t,e,n,i){var r,o,s;return o=/</g,s=/>/g,r=function(e,i){this.type=t.INTERPOLATOR,i&&(this.node=document.createTextNode(""),i.appendChild(this.node)),n.init(this,e)},r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:i,teardown:function(t){t&&this.detach(),e(this)},render:function(t){this.node&&(this.node.data=void 0==t?"":t)},firstNode:function(){return this.node},toString:function(){var t=void 0!=this.value?""+this.value:"";return t.replace(o,"&lt;").replace(s,"&gt;")}},r}(j,$e,nn,ze),on=function(){var t=[];return function(e){var n,i,r,o,s,a,u,h,c=this;for(n=this.parentFragment,s=[],e.forEach(function(e,n){var r,o,a,u;return e===n?void(s[e]=c.fragments[n]):(void 0===i&&(i=n),-1===e?void t.push(c.fragments[n]):(r=c.fragments[n],o=e-n,a=c.keypath+"."+n,u=c.keypath+"."+e,r.reassign(c.descriptor.i,n,e,o,a,u),void(s[e]=r)))});u=t.pop();)u.teardown(!0);if(void 0===i&&(i=this.length),this.length=o=this.root.get(this.keypath).length,o!==i){for(a={descriptor:this.descriptor.f,root:this.root,pNode:n.pNode,owner:this},this.descriptor.i&&(a.indexRef=this.descriptor.i),r=i;o>r;r+=1)(u=s[r])?this.docFrag.appendChild(u.detach(!1)):(a.context=this.keypath+"."+r,a.index=r,u=this.createFragment(a)),this.fragments[r]=u;h=n.findNextNode(this),n.pNode.insertBefore(this.docFrag,h)}}}(),sn=function(t,e){function n(t,e,n){var i,r,o;if(r=e.length,r<t.length)for(o=t.fragments.splice(r,t.length-r);o.length;)o.pop().teardown(!0);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath+"."+i,n.index=i,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[i]=t.createFragment(n);t.length=r}function i(t,e,n){var i,r,o,s;for(o=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)s=t.fragments[r],s.index in e||(t.fragments[r].teardown(!0),t.fragments.splice(r,1),o[s.index]=!1);for(i in e)o[i]||(n.context=t.keypath+"."+i,n.index=i,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments.push(t.createFragment(n)),o[i]=!0);t.length=t.fragments.length}function r(t,e){t.length||(e.context=t.keypath,e.index=0,t.fragments[0]=t.createFragment(e),t.length=1)}function o(e,n,i,r){var o,s,a,u;if(s=t(n)&&0===n.length,o=i?s||!n:n&&!s){if(e.length||(r.index=0,e.fragments[0]=e.createFragment(r),e.length=1),e.length>1)for(a=e.fragments.splice(1);u=a.pop();)u.teardown(!0)}else e.length&&(e.teardownFragments(!0),e.length=0)}return function(s,a){var u={descriptor:s.descriptor.f,root:s.root,pNode:s.parentFragment.pNode,pElement:s.parentFragment.pElement,owner:s};return s.descriptor.n?void o(s,a,!0,u):void(t(a)?n(s,a,u):e(a)||"function"==typeof a?s.descriptor.i?i(s,a,u):r(s,u):o(s,a,!1,u))}}(L,te),an=function(t,e){return function(n){var i,r;(r=this.root._wrapped[this.keypath])&&(n=r.get()),this.rendering||(this.rendering=!0,e(this,n),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&t&&(i=this.parentFragment.findNextNode(this),i&&i.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,i):this.parentFragment.pNode.appendChild(this.docFrag)))}}(u,sn),un=function(t,e,n,i){var r,o,s,a,u;for(s=t.descriptor.i,r=e;n>r;r+=1)o=t.fragments[r],a=t.keypath+"."+(r-i),u=t.keypath+"."+r,o.index=r,o.reassign(s,r,a,u)},hn=function(t){function e(t){t.teardown(!0)}function n(t,e,n){var i,r,o;for(t.rendering=!0,i={descriptor:t.descriptor.f,root:t.root,pNode:t.parentFragment.pNode,owner:t,indexRef:t.descriptor.i},r=e;n>r;r+=1)i.context=t.keypath+"."+r,i.index=r,t.fragments[r]=t.createFragment(i);o=t.fragments[n]?t.fragments[n].firstNode():t.parentFragment.findNextNode(t),t.parentFragment.pNode.insertBefore(t.docFrag,o),t.rendering=!1}return function(i){var r,o,s,a,u,h=this;if(r=i.balance){if(o=i.start,h.length+=r,0>r)return h.fragments.splice(o,-r).forEach(e),void t(h,o,h.length,r);s=o+i.removed,a=o+i.added,u=[s,0],u.length+=r,h.fragments.splice.apply(h.fragments,u),t(h,a,h.length,r),n(h,s,a)}}}(un),cn=function(t,e,n,i,r,o,s){var a,u;return s.push(function(){u=s.DomFragment}),a=function(n,i){this.type=t.SECTION,this.inverted=!!n.descriptor.n,this.fragments=[],this.length=0,i&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,e.init(this,n),i&&i.appendChild(this.docFrag),this.initialising=!1},a.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,splice:r,merge:n,detach:function(){var t,e;if(this.docFrag){for(e=this.fragments.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.fragments[t].detach());return this.docFrag}},teardown:function(t){this.teardownFragments(t),o(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(var e;e=this.fragments.shift();)e.teardown(t)},render:i,createFragment:function(t){var e=new u(t);return this.docFrag&&this.docFrag.appendChild(e.docFrag),e},toString:function(){var t,e,n;for(t="",e=0,n=this.length,e=0;n>e;e+=1)t+=this.fragments[e].toString();return t},find:function(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null},findAll:function(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)},findComponent:function(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null},findAllComponents:function(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}},a}(j,nn,on,an,hn,$e,b),pn=function(t,e,n,i,r){var o=function(e,i){this.type=t.TRIPLE,i&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n.init(this,e),i&&i.appendChild(this.docFrag),this.initialising=!1};return o.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},teardown:function(t){t&&(this.detach(),this.docFrag=this.nodes=null),r(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(t){var e,n;if(this.nodes){for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);if(!t)return void(this.nodes=[]);n=this.parentFragment.pNode,this.nodes=i(t,n.tagName,n.namespaceURI,this.docFrag),this.initialising||n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),"SELECT"===n.tagName&&n._ractive&&n._ractive.binding&&n._ractive.binding.update()}},toString:function(){return void 0!=this.value?this.value:""},find:function(t){var n,i,r,o;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType){if(e(r,t))return r;if(o=r.querySelector(t))return o}return null},findAll:function(t,n){var i,r,o,s,a,u;for(r=this.nodes.length,i=0;r>i;i+=1)if(o=this.nodes[i],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}},o}(j,ae,nn,We,$e),fn=function(t){return function(e,n){return e.a&&e.a.xmlns?e.a.xmlns:"svg"===e.e?t.svg:n.namespaceURI||t.html}}(s),ln=function(){var t,e,n,i;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},i=n(t.concat(e)),function(t){var e=t.toLowerCase();return i[e]||e}}(),dn=function(t,e){return function(n,i){var r,o;if(r=i.indexOf(":"),-1===r||(o=i.substr(0,r),"xmlns"===o))n.name=n.element.namespace!==t.html?e(i):i,n.lcName=n.name.toLowerCase();else if(i=i.substring(r+1),n.name=e(i),n.lcName=n.name.toLowerCase(),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(s,ln),gn=function(t){return function(e,n){var i,r=null===n.value?"":n.value;(i=n.pNode)&&(e.namespace?i.setAttributeNS(e.namespace,n.name,r):"style"===n.name&&i.style.setAttribute?i.style.setAttribute("cssText",r):"class"!==n.name||i.namespaceURI&&i.namespaceURI!==t.html?i.setAttribute(n.name,r):i.className=r,"id"===e.name&&(n.root.nodes[n.value]=i),"value"===e.name&&(i._ractive.value=n.value)),e.value=n.value}}(s),vn=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,i){var r;!n.pNode||n.namespace||i.pNode.namespaceURI&&i.pNode.namespaceURI!==t.html||(r=e[n.name]||n.name,void 0!==i.pNode[r]&&(n.propertyName=r),("boolean"==typeof i.pNode[r]||"value"===r)&&(n.useProperty=!0))}}(s),mn=function(t){return function(e){var n,i;return n=e.fragment.items,1===n.length&&(i=n[0],i.type===t.INTERPOLATOR&&(i.keypath||i.ref))?i:void 0}}(j),yn=function(t){return function(e,n){var i;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(i=e.length;i--;)if(e[i]!==n[i])return!1;return!0}}(L),wn=function(t,e,n,i,r,o){var s,a,u,h,c,p,f,l,d,g,v,m,y,w,b='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',x="You cannot set up two-way binding against an expression ";return s=function(){var t,n,i,r=this.pNode;return(t=this.interpolator)?t.keypath&&"${"===t.keypath.substr?(e(x+t.keypath),!1):(t.keypath||t.resolve(t.descriptor.r),this.keypath=t.keypath,(n=c(this))?(r._ractive.binding=this.element.binding=n,this.twoway=!0,i=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),i.push(n),!0):!1):(e(b),!1)},a=function(){t.start(this._ractive.root),this._ractive.binding.update(),t.end()},u={evaluateWrapped:!0},h=function(){var t=r(this._ractive.root,this._ractive.binding.keypath,u);this.value=void 0==t?"":t},c=function(t){var e=t.pNode;if("SELECT"===e.tagName)return e.multiple?new f(t,e):new l(t,e);if("checkbox"===e.type||"radio"===e.type){if("name"===t.propertyName){if("checkbox"===e.type)return new g(t,e);if("radio"===e.type)return new d(t,e)}return"checked"===t.propertyName?new v(t,e):null}if("value"!==t.lcName)throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!");return"file"===e.type?new m(t,e):e.getAttribute("contenteditable")?new y(t,e):new w(t,e)},f=function(t,e){var n;p(this,t,e),e.addEventListener("change",a,!1),n=r(this.root,this.keypath),void 0===n&&this.update()},f.prototype={value:function(){var t,e,n,i,r,o;for(t=[],e=this.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(o=r._ractive?r._ractive.value:r.value,t.push(o));return t},update:function(){var e,i,r;return e=this.attr,i=e.value,r=this.value(),void 0!==i&&n(r,i)||(t.addBinding(e),e.value=r,o(this.root,this.keypath,r),t.trigger()),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},l=function(t,e){var n;p(this,t,e),e.addEventListener("change",a,!1),n=r(this.root,this.keypath),void 0===n&&this.update()},l.prototype={value:function(){var t,e,n,i,r;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},update:function(){var e=this.value();return t.addBinding(this.attr),this.attr.value=e,o(this.root,this.keypath,e),t.trigger(),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},d=function(e,n){var i;this.radioName=!0,p(this,e,n),n.name="{{"+e.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),i=r(this.root,this.keypath),void 0!==i?n.checked=i==n._ractive.value:t.addRadio(this)},d.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger())},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},g=function(e,n){var i,o;this.checkboxName=!0,p(this,e,n),n.name="{{"+this.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),i=r(this.root,this.keypath),void 0!==i?(o=-1!==i.indexOf(n._ractive.value),n.checked=o):t.addCheckbox(this)},g.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,t.addBinding(this.attr),o(this.root,this.keypath,i(this.root,this.keypath)),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},v=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),e.attachEvent&&e.addEventListener("click",a,!1)},v.prototype={value:function(){return this.node.checked},update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},m=function(t,e){p(this,t,e),e.addEventListener("change",a,!1)},m.prototype={value:function(){return this.attr.pNode.files},update:function(){o(this.attr.root,this.attr.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1)}},y=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1))
},y.prototype={update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.node.innerHTML),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1)}},w=function(t,e){p(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1)),this.node.addEventListener("blur",h,!1)},w.prototype={value:function(){var t=this.attr.pNode.value;return+t+""===t&&-1===t.indexOf("e")&&(t=+t),t},update:function(){var e=this.attr,n=this.value();t.addBinding(e),o(e.root,e.keypath,n),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1),this.node.removeEventListener("blur",h,!1)}},p=function(t,e,n){t.attr=e,t.node=n,t.root=e.root,t.keypath=e.keypath},s}(A,Z,yn,_,Y,q),bn=function(t,e,n){var i,r,o,s,a,u,h,c,p,f,l,d;return i=function(){var t;if(!this.ready)return this;if(t=this.pNode,"SELECT"===t.tagName&&"value"===this.lcName)return this.update=o,this.deferredUpdate=s,this.update();if(this.isFileInputValue)return this.update=r,this;if(this.twoway&&"name"===this.lcName){if("radio"===t.type)return this.update=h,this.update();if("checkbox"===t.type)return this.update=c,this.update()}return"style"===this.lcName&&t.style.setAttribute?(this.update=p,this.update()):"class"!==this.lcName||t.namespaceURI&&t.namespaceURI!==e.html?t.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=l,this.update()):(this.update=d,this.update()):(this.update=f,this.update())},r=function(){return this},s=function(){this.deferredUpdate=this.pNode.multiple?u:a,this.deferredUpdate()},o=function(){return t.addSelectValue(this),this},a=function(){var t,e,n,i,r=this.fragment.getValue();for(this.value=this.pNode._ractive.value=r,t=this.pNode.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r)return e.selected=!0,this;return this},u=function(){var t,e,i,r,o=this.fragment.getValue();for(n(o)||(o=[o]),t=this.pNode.options,e=t.length;e--;)i=t[e],r=i._ractive?i._ractive.value:i.value,i.selected=-1!==o.indexOf(r);return this.value=o,this},h=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),t.checked=e==t._ractive.value,this},c=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),n(e)?(t.checked=-1!==e.indexOf(t._ractive.value),this):(t.checked=e==t._ractive.value,this)},p=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.style.setAttribute("cssText",e),this.value=e),this},f=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.className=e,this.value=e),this},l=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(this.active||(t.innerHTML=e),this.value=e),this},d=function(){var t,e,n;if(t=this.pNode,e=this.fragment.getValue(),this.isValueAttribute&&(t._ractive.value=e),void 0==e&&(e=""),e!==this.value){if(this.useProperty)return this.active||(t[this.propertyName]=e),"OPTION"===t.tagName&&t.selected&&(n=this.element.select.binding)&&n.update(),this.value=e,this;if(this.namespace)return t.setAttributeNS(this.namespace,this.name,e),this.value=e,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[e]=t),t.setAttribute(this.name,e),this.value=e}return this},i}(A,s,L),xn=function(t){var e;return e=this.str.substr(this.pos,t.length),e===t?(this.pos+=t.length,t):null},En=function(){var t=/^\s+/;return function(){var e=t.exec(this.remaining());return e?(this.pos+=e[0].length,e[0]):null}}(),_n=function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}},Tn=function(t){var e,n,i;return e=t(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),n=t(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),i=t(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),function(t){return function(r){var o,s,a,u;for(o=r.pos,s='"',a=!1;!a;)u=e(r)||n(r)||r.getStringMatch(t),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=i(r),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(_n),Nn=function(t){return t('"')}(Tn),kn=function(t){return t("'")}(Tn),Sn=function(t,e,n){return function(i){var r,o;return r=i.pos,i.getStringMatch('"')?(o=n(i),i.getStringMatch('"')?{t:t.STRING_LITERAL,v:o}:(i.pos=r,null)):i.getStringMatch("'")?(o=e(i),i.getStringMatch("'")?{t:t.STRING_LITERAL,v:o}:(i.pos=r,null)):null}}(j,Nn,kn),On=function(t,e){var n=e(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(e){var i;return(i=n(e))?{t:t.NUMBER_LITERAL,v:i}:null}}(j,_n),Rn=function(t){return t(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(_n),An=function(t,e,n){var i=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(r){var o;return(o=t(r))?i.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(r))?o.v:(o=n(r))?o:void 0}}(Sn,On,Rn),Cn=function(t,e,n,i){function r(t){var e,n,r;return t.allowWhitespace(),(e=i(t))?(r={key:e},t.allowWhitespace(),t.getStringMatch(":")?(t.allowWhitespace(),(n=t.getToken())?(r.value=n.v,r):null):null):null}var o,s,a,u,h,c;return s={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,h=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,o=function(t,e){this.str=t,this.values=e,this.pos=0,this.result=this.getToken()},o.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:t,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var t;return this.values?(t=c.exec(this.remaining()))&&this.values.hasOwnProperty(t[1])?(this.pos+=t[0].length,{v:this.values[t[1]]}):void 0:null},getSpecial:function(){var t;return(t=a.exec(this.remaining()))?(this.pos+=t[0].length,{v:s[t[0]]}):void 0},getNumber:function(){var t;return(t=u.exec(this.remaining()))?(this.pos+=t[0].length,{v:+t[0]}):void 0},getString:function(){var t,e=n(this);return e&&(t=this.values)?{v:e.v.replace(h,function(e,n){return t[n]||n})}:e},getObject:function(){var t,e;if(!this.getStringMatch("{"))return null;for(t={};e=r(this);){if(t[e.key]=e.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:t};if(!this.getStringMatch(","))return null}return null},getArray:function(){var t,e;if(!this.getStringMatch("["))return null;for(t=[];e=this.getToken();){if(t.push(e.v),this.getStringMatch("]"))return{v:t};if(!this.getStringMatch(","))return null}return null},allowWhitespace:e},function(t,e){var n=new o(t,e);return n.result?{value:n.result.v,remaining:n.remaining()}:null}}(xn,En,Sn,An),Ln=function(t,e,n){function i(t){return"string"==typeof t?t:JSON.stringify(t)}var r=function(e){this.type=t.INTERPOLATOR,n.init(this,e)};return r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){e(this)},toString:function(){return void 0==this.value?"":i(this.value)}},r}(j,$e,nn),Mn=function(t,e,n,i,r){var o,s;return r.push(function(){s=r.StringFragment}),o=function(n){this.type=t.SECTION,this.fragments=[],this.length=0,e.init(this,n)},o.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,teardown:function(){this.teardownFragments(),i(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){var e;(e=this.root._wrapped[this.keypath])&&(t=e.get()),n(this,t),this.parentFragment.bubble()},createFragment:function(t){return new s(t)},toString:function(){return this.fragments.join("")}},o}(j,nn,sn,$e,b),In=function(t){var e=function(e){this.type=t.TEXT,this.text=e};return e.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}},e}(j),Fn=function(t,e){return function(){var n,i,r,o,s,a,u;if(!this.argsList||this.dirty){if(n={},i=0,o=this.root._guid,u=function(t){return t.map(function(t){var e,r,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return u(t.items)}).join(""):(e=o+"-"+i++,s=(r=t.root._wrapped[t.keypath])?r.value:t.value,n[e]=s,"${"+e+"}")}).join("")},r=u(this.items),a=e("["+r+"]",n))this.argsList=a.value;else{if(s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(s);t(s),this.argsList=[r]}this.dirty=!1}return this.argsList}}(Z,Cn),Pn=function(t,e,n,i,r,o,s,a){var u=function(t){n.init(this,t)};return u.prototype={reassign:n.reassign,createItem:function(e){if("string"==typeof e.descriptor)return new o(e.descriptor);switch(e.descriptor.t){case t.INTERPOLATOR:return new i(e);case t.TRIPLE:return new i(e);case t.SECTION:return new r(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var e;return 1===this.items.length&&this.items[0].type===t.INTERPOLATOR&&(e=this.items[0].value,void 0!==e)?e:this.toString()},isSimple:function(){var e,n,i;if(void 0!==this.simple)return this.simple;for(e=this.items.length;e--;)if(n=this.items[e],n.type!==t.TEXT){if(n.type!==t.INTERPOLATOR)return this.simple=!1;if(i)return!1;i=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var t,n=this.getValue();return"string"==typeof n&&(t=e(n),n=t?t.value:n),n},toArgsList:s},a.StringFragment=u,u}(j,Cn,Be,Ln,Mn,In,Fn,b),jn=function(t,e,n,i,r,o,s,a,u){var h=function(t){return this.type=e.ATTRIBUTE,this.element=t.element,n(this,t.name),null===t.value||"string"==typeof t.value?void i(this,t):(this.root=t.root,this.pNode=t.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new u({descriptor:t.value,root:this.root,owner:this}),this.interpolator=o(this),void(this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),r(this,t),this.selfUpdating=this.fragment.isSimple(),this.ready=!0)))};return h.prototype={bind:s,update:a,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},reassign:function(t,e,n,i){this.fragment&&(this.fragment.reassign(t,e,n,i),this.twoway&&this.updateBindings())},teardown:function(){var t;if(this.boundEvents)for(t=this.boundEvents.length;t--;)this.pNode.removeEventListener(this.boundEvents[t],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},toString:function(){var t,e;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.lcName)return"name"===this.name&&"input"===this.element.lcName&&(e=this.interpolator)?"name={{"+(e.keypath||e.ref)+"}}":this.fragment?(t=this.fragment.toString(),this.name+"="+JSON.stringify(t)):this.name+"="+JSON.stringify(this.value)}},h}(A,j,dn,gn,vn,mn,wn,bn,Pn),Dn=function(t){return function(e,n,i){var r=new t({element:e,name:n,value:i,root:e.root,pNode:e.node});e.attributes.push(e.attributes[n]=r),"name"!==n&&r.update()}}(jn),Un=function(t){return function(e,n){var i;e.attributes=[];for(i in n)n.hasOwnProperty(i)&&t(e,i,n[i]);return e.attributes}}(Dn),qn=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Bn=function(t){return function(e,n){return e.matchingStaticNodes[n]||(e.matchingStaticNodes[n]=t(e.node.querySelectorAll(n))),e.matchingStaticNodes[n]}}(qn),Wn=function(t,e,n,i,r){function o(t){var e,n,r,o,s,a,u;r=t.node,e=t.root;do for(n=e._liveQueries,u=n.length;u--;)o=n[u],s=n[o],a=i(t,o),s.push.apply(s,a);while(e=e._parent)}var s,a,u;return r.push(function(){s=r.DomFragment}),a=function(){var t=this.node,e=this.fragment.toString();t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},u=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString()},function(t,i,r,h){return"script"===t.lcName||"style"===t.lcName?(t.fragment=new n({descriptor:r.f,root:t.root,owner:t}),void(h&&("script"===t.lcName?(t.bubble=u,t.node.text=t.fragment.toString()):(t.bubble=a,t.bubble())))):void("string"!=typeof r.f||i&&i.namespaceURI&&i.namespaceURI!==e.html?(t.fragment=new s({descriptor:r.f,root:t.root,pNode:i,owner:t,pElement:t}),h&&i.appendChild(t.fragment.docFrag)):(t.html=r.f,h&&(i.innerHTML=t.html,t.matchingStaticNodes={},o(t))))}}(Z,s,Pn,Bn,b),zn=function(t,e){var n=function(n,i,r){var o,s,a,u=this;if(u.root=i,u.node=r.node,o=n.n||n,"string"!=typeof o&&(s=new e({descriptor:o,root:i,owner:r}),o=s.toString(),s.teardown()),n.a?u.params=n.a:n.d&&(u.fragment=new e({descriptor:n.d,root:i,owner:r}),u.params=u.fragment.toArgsList(),u.fragment.bubble=function(){this.dirty=!0,u.params=this.toArgsList(),u.ready&&u.update()}),u.fn=i.decorators[o],!u.fn){if(a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',i.debug)throw new Error(a);t(a)}};return n.prototype={init:function(){var t,e;if(this.params?(e=[this.node].concat(this.params),t=this.fn.apply(this.root,e)):t=this.fn.call(this.root,this.node),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.teardown()}},n}(Z,Pn),Qn=function(t,e){return function(n,i,r){var o=new e(n,i,r);o.fn&&(r.decorator=o,t.addDecorator(r.decorator))}}(A,zn),$n=function(t,e){var n,i,r,o,s,a,u,h,c;return n=function(t,e,n,r){var o,s;o=t.node._ractive.events,s=o[e]||(o[e]=new i(t,e,r)),s.add(n)},i=function(e,n){var i;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.proxies=[],(i=this.root.events[n])?this.custom=i(this.node,c(n)):("on"+n in this.node||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(n,h,!1))},i.prototype={add:function(t){this.proxies.push(new r(this.element,this.root,t))},teardown:function(){var t;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,h,!1),t=this.proxies.length;t--;)this.proxies[t].teardown()},fire:function(t){for(var e=this.proxies.length;e--;)this.proxies[e].fire(t)}},r=function(t,n,i){var r;return this.root=n,r=i.n||i,this.n="string"==typeof r?r:new e({descriptor:i.n,root:this.root,owner:t}),i.a?(this.a=i.a,void(this.fire=s)):i.d?(this.d=new e({descriptor:i.d,root:this.root,owner:t}),void(this.fire=a)):void(this.fire=o)},r.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},o=function(t){this.root.fire(this.n.toString(),t)},s=function(t){this.root.fire.apply(this.root,[this.n.toString(),t].concat(this.a))},a=function(t){var e=this.d.toArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.n.toString(),t].concat(e))},h=function(t){var e=this._ractive;e.events[t.type].fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},u={},c=function(t){return u[t]?u[t]:u[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}},n}(Z,Pn),Jn=function(t){return function(e,n){var i,r,o;for(r in n)if(n.hasOwnProperty(r))for(o=r.split("-"),i=o.length;i--;)t(e,o[i],n[r])}}($n),Vn=function(t){var e,n,i,r,o;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],o=n[r],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)},Hn=function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},Xn=function(t,e,n){var i,r;if(t)return i={},r=n("div").style,function(t){var n,o,s;if(!i[t])if(void 0!==r[t])i[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(o=e[n],void 0!==r[o+s]){i[t]=o+s;break}return i[t]}}(u,m,a),Gn=function(t,e,n,i){var r;if(e)return r=window.getComputedStyle||t.getComputedStyle,function(t){var e,r,o,s,a;if(e=window.getComputedStyle(this.node),"string"==typeof t)return a=e[i(t)],"0px"===a&&(a=0),a;if(!n(t))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(r={},o=t.length;o--;)s=t[o],a=e[i(s)],"0px"===a&&(a=0),r[s]=a;return r}}(i,u,L,Xn),Kn=function(t){return function(e,n){var i;if("string"==typeof e)this.node.style[t(e)]=n;else for(i in e)e.hasOwnProperty(i)&&(this.node.style[t(i)]=e[i]);return this}}(Xn),Yn=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},Zn=function(t,e,n){function i(t){return t}var r=function(r){var o;this.duration=r.duration,this.step=r.step,this.complete=r.complete,"string"==typeof r.easing?(o=r.root.easing[r.easing],o||(t('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]'),o=i)):o="function"==typeof r.easing?r.easing:i,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return r.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},r}(Z,w,C),ti=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(m),ei=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(m),ni=function(t,e,n,i,r,o,s,a,u){var h,c,p,f,l,d,g,v={},m={};if(t)return h=n("div").style,function(){void 0!==h.transition?(c="transition",p="transitionend",f=!0):void 0!==h.webkitTransition?(c="webkitTransition",p="webkitTransitionEnd",f=!0):f=!1}(),c&&(l=c+"Duration",d=c+"Property",g=c+"TimingFunction"),function(t,n,h,c,f,y){setTimeout(function(){var w,b,x,E;E=function(){b&&x&&y()},w=t.node.namespaceURI+t.node.tagName,t.node.style[d]=c.map(s).map(u).join(","),t.node.style[g]=u(h.easing||"linear"),t.node.style[l]=h.duration/1e3+"s",f=function(e){var n;n=c.indexOf(i(a(e.propertyName))),-1!==n&&c.splice(n,1),c.length||(t.root.fire(t.name+":end"),t.node.removeEventListener(p,f,!1),x=!0,E())},t.node.addEventListener(p,f,!1),setTimeout(function(){for(var a,u,l,d,g=c.length,y=[];g--;)d=c[g],a=w+d,v[a]?t.node.style[s(d)]=n[d]:u=t.getStyle(d),void 0===v[a]&&(t.node.style[s(d)]=n[d],v[a]=t.getStyle(d)!=n[d],m[a]=!v[a]),m[a]&&(l=c.indexOf(d),-1===l?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):c.splice(l,1),t.node.style[s(d)]=u,y.push({name:s(d),interpolator:r(u,n[d])}));y.length?new o({root:t.root,duration:h.duration,easing:i(h.easing),step:function(e){var n,i;for(i=y.length;i--;)n=y[i],t.node.style[n.name]=n.interpolator(e)},complete:function(){b=!0,E()}}):b=!0,c.length||(t.node.removeEventListener(p,f,!1),x=!0,E())},0)},h.delay||0)}}(u,Z,a,Yn,ne,Zn,Xn,ti,ei),ii=function(t,e,n,i,r,o){var s;if(e)return s=window.getComputedStyle||t.getComputedStyle,function(t,e,s,a){var u,h=this;"string"==typeof t?(u={},u[t]=e):(u=t,a=s,s=e),s||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=h,a=h.complete);var c=new i(function(t){var e,n,i,a,c,p,f,l;if(!s.duration)return h.setStyle(u),void t();for(e=Object.keys(u),n=[],i=window.getComputedStyle(h.node),c={},f=e.length;f--;)l=e[f],a=i[r(l)],"0px"===a&&(a=0),a!=u[l]&&(n.push(l),h.node.style[r(l)]=a);return n.length?void o(h,u,s,n,p,t):void t()});return a&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),c.then(a)),c}}(i,u,Z,g,Xn,ni),ri=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},oi=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(ri),si=function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},ai=function(t,e,n,i,r,o,s,a){var u;return u=function(n,i,r,o){var s,a,u,h=this;if(this.root=i,this.node=r.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),h.complete=function(t){!t&&h.isIntro&&h.resetStyle(),h.node._ractive.transition=null,h._manager.remove(h)},s=n.n||n,"string"!=typeof s&&(a=new e({descriptor:s,root:this.root,owner:r}),s=a.toString(),a.teardown()),this.name=s,n.a?this.params=n.a:n.d&&(a=new e({descriptor:n.d,root:this.root,owner:r}),this.params=a.toArgsList(),a.teardown()),this._fn=i.transitions[s],!this._fn){if(u='Missing "'+s+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',i.debug)throw new Error(u);return void t(u)}},u.prototype={init:n,getStyle:i,setStyle:r,animateStyle:o,processParams:s,resetStyle:a},u}(Z,Pn,Hn,Gn,Kn,ii,oi,si),ui=function(t,e){return function(n,i,r,o){var s,a,u;!i.transitionsEnabled||i._parent&&!i._parent.transitionsEnabled||(s=new e(n,i,r,o),s._fn&&(a=s.node,(u=a._ractive.transition)&&u.complete(),a._ractive.transition=s,t.addTransition(s)))}}(A,ai),hi=function(t,e,n,i,r,o,s,a,u,h,c,p,f,l,d,g,v){function m(t){do if("select"===t.lcName)return t;while(t=t.parent)}return function(y,w,b){var x,E,_,T,N,k,S,O,R,A,C,L;if(y.type=e.ELEMENT,x=y.parentFragment=w.parentFragment,E=x.pNode,_=y.descriptor=w.descriptor,y.parent=w.pElement,y.root=A=x.root,y.index=w.index,y.lcName=_.e.toLowerCase(),y.eventListeners=[],y.customEventListeners=[],y.cssDetachQueue=[],E&&(T=y.namespace=u(_,E),N=T!==n.html?v(_.e):_.e,y.node=s(N,T),A.css&&E===A.el&&y.node.setAttribute("data-rvcguid",A.constructor._guid||A._guid),r(y.node,"_ractive",{value:{proxy:y,keypath:a(x),index:x.indexRefs,events:i(null),root:A}})),k=c(y,_.a),_.f){if(y.node&&y.node.getAttribute("contenteditable")&&y.node.innerHTML){if(L="A pre-populated contenteditable element should not have children",A.debug)throw new Error(L);o(L)}p(y,y.node,_,b)}b&&_.v&&l(y,_.v),b&&(A.twoway&&(y.bind(),y.node.getAttribute("contenteditable")&&y.node._ractive.binding&&y.node._ractive.binding.update()),k.name&&!k.name.twoway&&k.name.update(),"IMG"===y.node.tagName&&((S=y.attributes.width)||(O=y.attributes.height))&&y.node.addEventListener("load",R=function(){S&&(y.node.width=S.value),O&&(y.node.height=O.value),y.node.removeEventListener("load",R,!1)},!1),b.appendChild(y.node),_.o&&f(_.o,A,y),_.t1&&g(_.t1,A,y,!0),"OPTION"===y.node.tagName&&("SELECT"===E.tagName&&(C=E._ractive.binding)&&C.deferUpdate(),k.value||h(y,"value",_.f),y.node._ractive.value==E._ractive.value&&(y.node.selected=!0)),y.node.autofocus&&t.focus(y.node)),"option"===y.lcName&&(y.select=m(y.parent)),d(y)}}(A,j,s,Ie,h,Z,a,N,fn,Dn,Un,Wn,Qn,Jn,Vn,ui,ln),ci=function(t,e){function n(t){var e,n,i,r,o;for(r=t.liveQueries.length;r--;)if(e=t.liveQueries[r],n=e.selector,e._remove(t.node),t.matchingStaticNodes&&(i=t.matchingStaticNodes[n]))for(o=i.length;o--;)e.remove(i[o])}return function(i){var r,o,s;for(i&&(this.willDetach=!0,t.detachWhenReady(this)),this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(r in this.node._ractive.events)this.node._ractive.events[r].teardown();(o=this.node._ractive.binding)&&(o.teardown(),s=this.root._twowayBindings[o.attr.keypath],s.splice(s.indexOf(o),1))}this.decorator&&this.decorator.teardown(),this.descriptor.t2&&e(this.descriptor.t2,this.root,this,!1),this.liveQueries&&n(this)}}(A,ui),pi=function(t){return function(e,n,i,r){var o,s,a,u,h,c,p,f,l;for(o=this.attributes.length;o--;)this.attributes[o].reassign(e,n,i,r);if(s=this.node._ractive){t(s,"keypath",i,r),void 0!=e&&(s.index[e]=n);for(a in s.events)for(u=s.events[a].proxies,o=u.length;o--;)h=u[o],"object"==typeof h.n&&h.a.reassign(e,n,i,r),h.d&&h.d.reassign(e,n,i,r);(c=s.binding)&&c.keypath.substr(0,i.length)===i&&(p=s.root._twowayBindings[c.keypath],p.splice(p.indexOf(c),1),c.keypath=c.keypath.replace(i,r),p=s.root._twowayBindings[c.keypath]||(s.root._twowayBindings[c.keypath]=[]),p.push(c))}if(this.fragment&&this.fragment.reassign(e,n,i,r),f=this.liveQueries)for(l=this.root,o=f.length;o--;)f[o]._makeDirty()}}(Ue),fi="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" "),li=function(t,e){function n(t){var n,i,r,o,s;if(n=t.attributes.value.value,i=t.select.attributes.value,r=i.interpolator){if(o=t.root.get(r.keypath||r.ref),o==n)return!0;if(t.select.attributes.multiple&&e(o))for(s=o.length;s--;)if(o[s]==n)return!0}}function i(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}return function(){var e,r,o,s;for(e="<"+(this.descriptor.y?"!doctype":this.descriptor.e),o=this.attributes.length,r=0;o>r;r+=1)(s=this.attributes[r].toString())&&(e+=" "+s);return"option"===this.lcName&&n(this)&&(e+=" selected"),"input"===this.lcName&&i(this)&&(e+=" checked"),e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),-1===t.indexOf(this.descriptor.e)&&(e+="</"+this.descriptor.e+">"),this.stringifying=!1,e}}(fi,L),di=function(t){return function(e){var n;return t(this.node,e)?this.node:this.html&&(n=this.node.querySelector(e))?n:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(ae),gi=function(t){return function(e,n){var i,r;n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.html&&(i=t(this,e),n.push.apply(n,i),n.live&&!r&&(this.liveQueries||(this.liveQueries=[])).push(n)),this.fragment&&this.fragment.findAll(e,n)}}(Bn),vi=function(t){return this.fragment?this.fragment.findComponent(t):void 0},mi=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},yi=function(){var t=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&t.value&&t.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return void(t.value&&t.value.bind());case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}},wi=function(t,e,n,i,r,o,s,a,u,h,c){var p=function(t,e){n(this,t,e)};return p.prototype={detach:function(){var n;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(t.start();n===this.cssDetachQueue.pop();)e.remove(n);t.end()}},teardown:i,reassign:r,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:o,find:s,findAll:a,findComponent:u,findAllComponents:h,bind:c},p}(A,E,hi,ci,pi,li,di,gi,vi,mi,yi),bi={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},xi={},Ei=function(t){var e,n,i;for(i="";t.length;){if(e=t.indexOf("<!--"),n=t.indexOf("-->"),-1===e&&-1===n){i+=t;break}if(-1!==e&&-1===n)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==n&&-1===e||e>n)throw"Illegal HTML - unexpected closing comment sequence ('-->')";i+=t.substr(0,e),t=t.substring(n+3)}return i},_i=function(t){return function(e){var n,i,r,o,s,a;for(s=/^\s*\r?\n/,a=/\r?\n\s*$/,n=2;n<e.length;n+=1)i=e[n],r=e[n-1],o=e[n-2],i.type===t.TEXT&&r.type===t.MUSTACHE&&r.mustacheType!==t.PARTIAL&&o.type===t.TEXT&&a.test(o.value)&&s.test(i.value)&&(r.mustacheType!==t.INTERPOLATOR&&r.mustacheType!==t.TRIPLE&&(o.value=o.value.replace(a,"\n")),i.value=i.value.replace(s,""),""===i.value&&e.splice(n--,1));return e}}(j),Ti=function(t){return function(e){var n,i,r,o;for(n=0;n<e.length;n+=1)i=e[n],r=e[n-1],o=e[n+1],(i.mustacheType===t.COMMENT||i.mustacheType===t.DELIMCHANGE)&&(e.splice(n,1),r&&o&&r.type===t.TEXT&&o.type===t.TEXT&&(r.value+=o.value,e.splice(n,1)),n-=1);return e}}(j),Ni=function(t){var e=t(/^[^\s=]+/);return function(t){var n,i,r;return t.getStringMatch("=")?(n=t.pos,t.allowWhitespace(),(i=e(t))?(t.allowWhitespace(),(r=e(t))?(t.allowWhitespace(),t.getStringMatch("=")?[i,r]:(t.pos=n,null)):(t.pos=n,null)):(t.pos=n,null)):null}}(_n),ki=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}(j),Si=function(t,e,n){function i(e){for(var n=[];e.t===t.MEMBER&&e.r.t===t.REFINEMENT;)n.unshift(e.r),e=e.x;return e.t!==t.REFERENCE?null:{r:e.n,m:n}}var r=e(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),o=/^[0-9][1-9]*$/;return function(e,s){var a,u,h,c,p,f,l,d,g;if(a=e.pos,u={type:s?t.TRIPLE:t.MUSTACHE},!(s||((c=e.getExpression())&&(u.mustacheType=t.INTERPOLATOR,e.allowWhitespace(),e.getStringMatch(e.delimiters[1])?e.pos-=e.delimiters[1].length:(e.pos=a,c=null)),c||(h=n(e),h===t.TRIPLE?u={type:t.TRIPLE}:u.mustacheType=h||t.INTERPOLATOR,h!==t.COMMENT&&h!==t.CLOSING||(f=e.remaining(),l=f.indexOf(e.delimiters[1]),-1===l)))))return u.ref=f.substr(0,l),e.pos+=l,u;if(!c&&(e.allowWhitespace(),c=e.getExpression(),f=e.remaining(),d=s?e.tripleDelimiters[1]:e.delimiters[1],f.substr(0,d.length)!==d&&":"!==f.charAt(0)&&(e.pos=a,f=e.remaining(),l=f.indexOf(e.delimiters[1]),-1!==l)))return u.ref=f.substr(0,l).trim(),e.pos+=l,u;for(;c.t===t.BRACKETED&&c.x;)c=c.x;return c.t===t.REFERENCE?u.ref=c.n:c.t===t.NUMBER_LITERAL&&o.test(c.v)?u.ref=c.v:(g=i(c))?u.keypathExpression=g:u.expression=c,p=r(e),null!==p&&(u.indexRef=p),u}}(j,_n,ki),Oi=function(t,e,n){function i(i,r){var o,s,a=i.pos;return s=r?i.tripleDelimiters:i.delimiters,i.getStringMatch(s[0])?(o=e(i))?i.getStringMatch(s[1])?(i[r?"tripleDelimiters":"delimiters"]=o,{type:t.MUSTACHE,mustacheType:t.DELIMCHANGE}):(i.pos=a,null):(i.allowWhitespace(),o=n(i,r),null===o?(i.pos=a,null):(i.allowWhitespace(),i.getStringMatch(s[1])?o:(i.pos=a,null))):null}return function(){var t=this.tripleDelimiters[0].length>this.delimiters[0].length;return i(this,t)||i(this,!t)}}(j,Ni,Si),Ri=function(t){return function(){var e,n,i;if(!this.getStringMatch("<!--"))return null;if(n=this.remaining(),i=n.indexOf("-->"),-1===i)throw new Error('Unexpected end of input (expected "-->" to close comment)');return e=n.substr(0,i),this.pos+=i+3,{type:t.COMMENT,content:e}}}(j),Ai=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},Ci=function(t,e,n){var i,r,o,s,a,u,h,c,p,f,l,d,g;return i=function(){return r(this)||o(this)},r=function(e){var n,i,r,o;return n=e.pos,e.inside?null:e.getStringMatch("<")?(i={type:t.TAG},e.getStringMatch("!")&&(i.doctype=!0),i.name=s(e),i.name?(r=a(e),r&&(i.attrs=r),e.allowWhitespace(),e.getStringMatch("/")&&(i.selfClosing=!0),e.getStringMatch(">")?(o=i.name.toLowerCase(),("script"===o||"style"===o)&&(e.inside=o),i):(e.pos=n,null)):(e.pos=n,null)):null},o=function(e){var n,i,r;if(n=e.pos,r=function(t){throw new Error("Unexpected character "+e.remaining().charAt(0)+" (expected "+t+")")
},!e.getStringMatch("<"))return null;if(i={type:t.TAG,closing:!0},e.getStringMatch("/")||r('"/"'),i.name=s(e),i.name||r("tag name"),e.getStringMatch(">")||r('">"'),e.inside){if(i.name.toLowerCase()!==e.inside)return e.pos=n,null;e.inside=null}return i},s=e(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),a=function(t){var e,n,i;if(e=t.pos,!t.getStringMatch(" ")&&!t.getStringMatch("\n"))return null;if(t.allowWhitespace(),i=u(t),!i)return t.pos=e,null;for(n=[];null!==i;)n.push(i),t.allowWhitespace(),i=u(t);return n},u=function(t){var e,n,i;return(n=h(t))?(e={name:n},i=c(t),i&&(e.value=i),e):null},h=e(/^[^\s"'>\/=]+/),c=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.getStringMatch("=")?(t.allowWhitespace(),n=g(t,"'")||g(t,'"')||p(t),null===n?(t.pos=e,null):n):(t.pos=e,null)},l=e(/^[^\s"'=<>`]+/),f=function(e){var n,i,r;return n=e.pos,(i=l(e))?(-1!==(r=i.indexOf(e.delimiters[0]))&&(i=i.substr(0,r),e.pos=n+i.length),{type:t.TEXT,value:i}):null},p=function(t){var e,n;for(e=[],n=t.getMustache()||f(t);null!==n;)e.push(n),n=t.getMustache()||f(t);return e.length?e:null},g=function(t,e){var n,i,r;if(n=t.pos,!t.getStringMatch(e))return null;for(i=[],r=t.getMustache()||d(t,e);null!==r;)i.push(r),r=t.getMustache()||d(t,e);return t.getStringMatch(e)?i:(t.pos=n,null)},d=function(e,i){var r,o,s;if(r=e.pos,s=e.remaining(),o=n(s,[i,e.delimiters[0],e.delimiters[1]]),-1===o)throw new Error("Quoted attribute value must have a closing quote");return o?(e.pos+=o,{type:t.TEXT,value:s.substr(0,o)}):null},i}(j,_n,Ai),Li=function(t,e){return function(){var n,i,r;return i=this.remaining(),r=this.inside?"</"+this.inside:"<",(n=this.inside&&!this.interpolate[this.inside]?i.indexOf(r):e(i,[r,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===n&&(n=i.length),this.pos+=n,{type:t.TEXT,value:i.substr(0,n)}):null}}(j,Ai),Mi=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(j),Ii=function(t,e){return function(n){var i,r,o;return i=n.pos,n.allowWhitespace(),r=e(n),null===r?(n.pos=i,null):(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),o=n.getExpression(),null===o?(n.pos=i,null):{t:t.KEY_VALUE_PAIR,k:r,v:o}):(n.pos=i,null))}}(j,An),Fi=function(t){return function e(n){var i,r,o,s;return i=n.pos,o=t(n),null===o?null:(r=[o],n.getStringMatch(",")?(s=e(n),s?r.concat(s):(n.pos=i,null)):r)}}(Ii),Pi=function(t,e){return function(n){var i,r;return i=n.pos,n.allowWhitespace(),n.getStringMatch("{")?(r=e(n),n.allowWhitespace(),n.getStringMatch("}")?{t:t.OBJECT_LITERAL,m:r}:(n.pos=i,null)):(n.pos=i,null)}}(j,Fi),ji=function go(t){var e,n,i,r;if(e=t.pos,t.allowWhitespace(),i=t.getExpression(),null===i)return null;if(n=[i],t.allowWhitespace(),t.getStringMatch(",")){if(r=go(t),null===r)return t.pos=e,null;n=n.concat(r)}return n},Di=function(t,e){return function(n){var i,r;return i=n.pos,n.allowWhitespace(),n.getStringMatch("[")?(r=e(n),n.getStringMatch("]")?{t:t.ARRAY_LITERAL,m:r}:(n.pos=i,null)):(n.pos=i,null)}}(j,ji),Ui=function(t,e,n,i,r){return function(o){var s=t(o)||e(o)||n(o)||i(o)||r(o);return s}}(On,Mi,Sn,Pi,Di),qi=function(t,e,n){var i,r,o,s;return i=e(/^\.[a-zA-Z_$0-9]+/),r=function(t){var e=o(t);return e?"."+e:null},o=e(/^\[(0|[1-9][0-9]*)\]/),s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(e){var o,a,u,h,c,p,f;for(o=e.pos,a="";e.getStringMatch("../");)a+="../";if(a||(h=e.getStringMatch(".")||""),u=n(e)||"",!a&&!h&&s.test(u))return{t:t.GLOBAL,v:u};if("this"!==u||a||h||(u=".",o+=3),c=(a||h)+u,!c)return null;for(;p=i(e)||r(e);)c+=p;return e.getStringMatch("(")&&(f=c.lastIndexOf("."),-1!==f?(c=c.substr(0,f),e.pos=o+c.length):e.pos-=1),{t:t.REFERENCE,n:c}}}(j,_n,Rn),Bi=function(t){return function(e){var n,i;return n=e.pos,e.getStringMatch("(")?(e.allowWhitespace(),(i=e.getExpression())?(e.allowWhitespace(),e.getStringMatch(")")?{t:t.BRACKETED,x:i}:(e.pos=n,null)):(e.pos=n,null)):null}}(j),Wi=function(t,e,n){return function(i){return t(i)||e(i)||n(i)}}(Ui,qi,Bi),zi=function(t,e){return function(n){var i,r,o;if(i=n.pos,n.allowWhitespace(),n.getStringMatch(".")){if(n.allowWhitespace(),r=e(n))return{t:t.REFINEMENT,n:r};n.expected("a property name")}return n.getStringMatch("[")?(n.allowWhitespace(),o=n.getExpression(),o||n.expected("an expression"),n.allowWhitespace(),n.getStringMatch("]")||n.expected('"]"'),{t:t.REFINEMENT,x:o}):null}}(j,Rn),Qi=function(t,e,n,i){return function(r){var o,s,a,u;if(s=e(r),!s)return null;for(;s;)if(o=r.pos,a=i(r))s={t:t.MEMBER,x:s,r:a};else{if(!r.getStringMatch("("))break;if(r.allowWhitespace(),u=n(r),r.allowWhitespace(),!r.getStringMatch(")")){r.pos=o;break}s={t:t.INVOCATION,x:s},u&&(s.o=u)}return s}}(j,Wi,ji,zi),$i=function(t,e){var n,i;return i=function(e,n){return function(i){var r,o;return i.getStringMatch(e)?(r=i.pos,i.allowWhitespace(),o=i.getExpression(),o||i.expected("an expression"),{s:e,o:o,t:t.PREFIX_OPERATOR}):n(i)}},function(){var t,r,o,s,a;for(s="! ~ + - typeof".split(" "),a=e,t=0,r=s.length;r>t;t+=1)o=i(s[t],a),a=o;n=a}(),n}(j,Qi),Ji=function(t,e){var n,i;return i=function(e,n){return function(i){var r,o,s;if(o=n(i),!o)return null;for(;;){if(r=i.pos,i.allowWhitespace(),!i.getStringMatch(e))return i.pos=r,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(i.remaining().charAt(0)))return i.pos=r,o;if(i.allowWhitespace(),s=n(i),!s)return i.pos=r,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,s]}}}},function(){var t,r,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=e,t=0,r=s.length;r>t;t+=1)o=i(s[t],a),a=o;n=a}(),n}(j,$i),Vi=function(t,e){return function(n){var i,r,o,s;return(r=e(n))?(i=n.pos,n.allowWhitespace(),n.getStringMatch("?")?(n.allowWhitespace(),(o=n.getExpression())?(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),s=n.getExpression(),s?{t:t.CONDITIONAL,o:[r,o,s]}:(n.pos=i,r)):(n.pos=i,r)):(n.pos=i,r)):(n.pos=i,r)):null}}(j,Ji),Hi=function(t){return function(){return t(this)}}(Vi),Xi=function(t,e,n,i,r,o,s){var a;return a=function(t,e){var n;for(this.str=t,this.pos=0,this.delimiters=e.delimiters,this.tripleDelimiters=e.tripleDelimiters,this.interpolate=e.interpolate,this.tokens=[];this.pos<this.str.length;)n=this.getToken(),null===n&&this.remaining()&&this.fail(),this.tokens.push(n)},a.prototype={getToken:function(){var t=this.getMustache()||this.getComment()||this.getTag()||this.getText();return t},getMustache:t,getComment:e,getTag:n,getText:i,getExpression:r,allowWhitespace:o,getStringMatch:s,remaining:function(){return this.str.substring(this.pos)},fail:function(){var t,e;throw t=this.str.substr(0,this.pos).substr(-20),20===t.length&&(t="..."+t),e=this.remaining().substr(0,20),20===e.length&&(e+="..."),new Error("Could not parse template: "+(t?t+"<- ":"")+"failed at character "+this.pos+" ->"+e)},expected:function(t){var e=this.remaining().substr(0,40);throw 40===e.length&&(e+="..."),new Error('Tokenizer failed: unexpected string "'+e+'" (expected '+t+")")}},a}(Oi,Ri,Ci,Li,Hi,En,xn),Gi=function(t,e,n,i,r){return function(o,s){var a,u;return s=s||{},s.stripComments!==!1&&(o=e(o)),a=new r(o,{delimiters:s.delimiters||t.defaults.delimiters,tripleDelimiters:s.tripleDelimiters||t.defaults.tripleDelimiters,interpolate:{script:s.interpolateScripts!==!1?!0:!1,style:s.interpolateStyles!==!1?!0:!1}}),u=a.tokens,n(u),i(u),u}}(r,Ei,_i,Ti,Xi),Ki=function(t){var e,n,i,r,o,s,a,u,h;return e=function(t,e){this.text=e?t.value:t.value.replace(h," ")},e.prototype={type:t.TEXT,toJSON:function(){return this.decoded||(this.decoded=u(this.text))},toString:function(){return this.text}},n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},i=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],r=new RegExp("&("+Object.keys(n).join("|")+");?","g"),o=/&#x([0-9]+);?/g,s=/&#([0-9]+);?/g,a=function(t){return t?10===t?32:128>t?t:159>=t?i[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533},u=function(t){var e;return e=t.replace(r,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),e=e.replace(o,function(t,e){return String.fromCharCode(a(parseInt(e,16)))}),e=e.replace(s,function(t,e){return String.fromCharCode(a(e))})},h=/\s+/g,e}(j),Yi=function(t,e){return function(n,i){return n.type===t.TEXT?(this.pos+=1,new e(n,i)):null}}(j,Ki),Zi=function(t){var e;return e=function(t){this.content=t.content},e.prototype={toJSON:function(){return{t:t.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},e}(j),tr=function(t,e){return function(n){return n.type===t.COMMENT?(this.pos+=1,new e(n,this.preserveWhitespace)):null}}(j,Zi),er=function(t,e){function n(t){return JSON.stringify(String(t))}function i(n,r){var o,s;if(n.t===t.REFERENCE&&-1===r.indexOf(n.n)&&r.unshift(n.n),s=n.o||n.m)if(e(s))i(s,r);else for(o=s.length;o--;)i(s[o],r);n.x&&i(n.x,r),n.r&&i(n.r,r),n.v&&i(n.v,r)}function r(e,i){var o=function(t){return r(t,i)};switch(e.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return e.v;case t.STRING_LITERAL:return n(e.v);case t.ARRAY_LITERAL:return"["+(e.m?e.m.map(o).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(e.m?e.m.map(o).join(","):"")+"}";case t.KEY_VALUE_PAIR:return e.k+":"+r(e.v,i);case t.PREFIX_OPERATOR:return("typeof"===e.s?"typeof ":e.s)+r(e.o,i);case t.INFIX_OPERATOR:return r(e.o[0],i)+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+r(e.o[1],i);case t.INVOCATION:return r(e.x,i)+"("+(e.o?e.o.map(o).join(","):"")+")";case t.BRACKETED:return"("+r(e.x,i)+")";case t.MEMBER:return r(e.x,i)+r(e.r,i);case t.REFINEMENT:return e.n?"."+e.n:"["+r(e.x,i)+"]";case t.CONDITIONAL:return r(e.o[0],i)+"?"+r(e.o[1],i)+":"+r(e.o[2],i);case t.REFERENCE:return"${"+i.indexOf(e.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}var o=function(t){this.refs=[],i(t,this.refs),this.str=r(t,this.refs)};return o.prototype={toJSON:function(){return this.json||(this.json={r:this.refs,s:this.str}),this.json}},o}(j,te),nr=function(t,e){function n(n){return n.n?n.n:n.x.t===t.STRING_LITERAL||n.x.t===t.NUMBER_LITERAL?n.x.v:n.x.t===t.REFERENCE?n.x:new e(n.x).toJSON()}var i;return i=function(t){this.json={r:t.r,m:t.m.map(n)}},i.prototype={toJSON:function(){return this.json}},i}(j,er),ir=function(t,e,n){var i=function(i,r){this.type=i.type===t.TRIPLE?t.TRIPLE:i.mustacheType,i.ref&&(this.ref=i.ref),i.keypathExpression&&(this.keypathExpr=new e(i.keypathExpression)),i.expression&&(this.expr=new n(i.expression)),r.pos+=1};return i.prototype={toJSON:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.keypathExpr&&(t.kx=this.keypathExpr.toJSON()),this.expr&&(t.x=this.expr.toJSON()),this.json=t,t)},toString:function(){return!1}},i}(j,nr,er),rr=function(t){var e,n,i,r="";if(!t)return"";for(n=0,i=t.length;i>n;n+=1){if(e=t[n].toString(),e===!1)return!1;r+=e}return r},or=function(t){return function(e,n,i){var r,o;return i||n||(r=t(e),r===!1)?o=e.map(function(t){return t.toJSON(n)}):r}}(rr),sr=function(t,e,n,i,r){function o(t,n){var i=t.ref,r=e(n.ref.trim());if(i&&r&&(t.indexRef&&(i+=":"+t.indexRef),i.substr(0,r.length)!==r))throw new Error("Could not parse template: Illegal closing section {{/"+r+"}}. Expected {{/"+t.ref+"}}.")}var s=function(e,n){var s;for(this.ref=e.ref,this.indexRef=e.indexRef,this.inverted=e.mustacheType===t.INVERTED,e.keypathExpression&&(this.keypathExpr=new i(e.keypathExpression)),e.expression&&(this.expr=new r(e.expression)),n.pos+=1,this.items=[],s=n.next();s;){if(s.mustacheType===t.CLOSING){o(this,s),n.pos+=1;break}this.items.push(n.getStub()),s=n.next()}};return s.prototype={toJSON:function(e){var i;return this.json?this.json:(i={t:t.SECTION},this.ref&&(i.r=this.ref),this.indexRef&&(i.i=this.indexRef),this.inverted&&(i.n=!0),this.expr&&(i.x=this.expr.toJSON()),this.keypathExpr&&(i.kx=this.keypathExpr.toJSON()),this.items.length&&(i.f=n(this.items,e)),this.json=i,i)},toString:function(){return!1}},s}(j,v,or,nr,er),ar=function(t,e,n){return function(i){return i.type===t.MUSTACHE||i.type===t.TRIPLE?i.mustacheType===t.SECTION||i.mustacheType===t.INVERTED?new n(i,this):new e(i,this):void 0}}(j,ir,sr),ur={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},hr=function(t){function e(n){var i,r;if("object"!=typeof n)return n;if(t(n))return n.map(e);i={};for(r in n)n.hasOwnProperty(r)&&(i[r]=e(n[r]));return i}return function(t){var n,i,r,o,s,a;for(r={},n=[],i=[],s=t.length,o=0;s>o;o+=1)if(a=t[o],"intro"===a.name){if(r.intro)throw new Error("An element can only have one intro transition");r.intro=a}else if("outro"===a.name){if(r.outro)throw new Error("An element can only have one outro transition");r.outro=a}else if("intro-outro"===a.name){if(r.intro||r.outro)throw new Error("An element can only have one intro and one outro transition");r.intro=a,r.outro=e(a)}else"proxy-"===a.name.substr(0,6)?(a.name=a.name.substring(6),i.push(a)):"on-"===a.name.substr(0,3)?(a.name=a.name.substring(3),i.push(a)):"decorator"===a.name?r.decorator=a:n.push(a);return r.attrs=n,r.proxies=i,r}}(L),cr=function(t,e){return function(n){var i,r,o,s,a,u,h,c;for(a=function(){throw new Error("Illegal directive")},n.name&&n.value||a(),i={directiveType:n.name},r=n.value,u=[],h=[];r.length;)if(o=r.shift(),o.type===t.TEXT){if(s=o.value.indexOf(":"),-1!==s){s&&u.push({type:t.TEXT,value:o.value.substr(0,s)}),o.value.length>s+1&&(h[0]={type:t.TEXT,value:o.value.substring(s+1)});break}u.push(o)}else u.push(o);return h=h.concat(r),i.name=1===u.length&&u[0].type===t.TEXT?u[0].value:u,h.length&&(1===h.length&&h[0].type===t.TEXT?(c=e("["+h[0].value+"]"),i.args=c?c.value:h[0].value):i.dynamicArgs=h),i}}(j,Cn),pr=function(t,e){var n;return n=function(t,e){var n;for(this.tokens=t||[],this.pos=0,this.options=e,this.result=[];n=this.getStub();)this.result.push(n)},n.prototype={getStub:function(){var t=this.next();return t?this.getText(t)||this.getMustache(t):null},getText:t,getMustache:e,next:function(){return this.tokens[this.pos]}},n}(Yi,ar),fr=function(t,e,n){var i;return i=function(e){var n=new t(e);this.stubs=n.result},i.prototype={toJSON:function(t){var e;return this["json_"+t]?this["json_"+t]:e=this["json_"+t]=n(this.stubs,t)},toString:function(){return void 0!==this.str?this.str:(this.str=e(this.stubs),this.str)}},i}(pr,rr,or),lr=function(t){return function(e){var n,i;if("string"==typeof e.name){if(!e.args&&!e.dynamicArgs)return e.name;i=e.name}else i=new t(e.name).toJSON();return n={n:i},e.args?(n.a=e.args,n):(e.dynamicArgs&&(n.d=new t(e.dynamicArgs).toJSON()),n)}}(fr),dr=function(t,e,n){return function(i){var r,o,s,a,u,h,c;if(this["json_"+i])return this["json_"+i];if(r={t:t.ELEMENT,e:this.tag},this.doctype&&(r.y=1),this.attributes&&this.attributes.length)for(r.a={},h=this.attributes.length,u=0;h>u;u+=1){if(c=this.attributes[u],o=c.name,r.a[o])throw new Error("You cannot have multiple attributes with the same name");s=null===c.value?null:c.value.toJSON(i),r.a[o]=s}if(this.items&&this.items.length&&(r.f=e(this.items,i)),this.proxies&&this.proxies.length)for(r.v={},h=this.proxies.length,u=0;h>u;u+=1)a=this.proxies[u],r.v[a.directiveType]=n(a);return this.intro&&(r.t1=n(this.intro)),this.outro&&(r.t2=n(this.outro)),this.decorator&&(r.o=n(this.decorator)),this["json_"+i]=r,r}}(j,or,lr),gr=function(t,e){var n;return n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var i,r,o,s,a,u,h,c;if(void 0!==this.str)return this.str;if(-1===n.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(h=t(this.items),h===!1)return this.str=!1;if(c=-1!==e.indexOf(this.tag.toLowerCase()),i="<"+this.tag,this.attributes)for(r=0,o=this.attributes.length;o>r;r+=1){if(a=this.attributes[r].name,-1!==a.indexOf(":"))return this.str=!1;if("id"===a||"intro"===a||"outro"===a)return this.str=!1;if(s=" "+a,null!==this.attributes[r].value){if(u=this.attributes[r].value.toString(),u===!1)return this.str=!1;""!==u&&(s+="=",s+=/[\s"'=<>`]/.test(u)?'"'+u.replace(/"/g,"&quot;")+'"':u)}i+=s}return this.selfClosing&&!c?(i+="/>",this.str=i):(i+=">",c?this.str=i:(i+=h,i+="</"+this.tag+">",this.str=i))}}(rr,fi),vr=function(t,e,n,i,r,o,s,a,u){var h,c,p,f,l,d=/^\s+/,g=/\s+$/;return h=function(s,a,h){var c,p,f,v,m,y,w;if(a.pos+=1,y=function(t){return{name:t.name,value:t.value?new u(t.value):null}},this.tag=s.name,w=s.name.toLowerCase(),"rv-"===w.substr(0,3)&&(n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),h=h||"pre"===w||"style"===w||"script"===w,s.attrs&&(f=r(s.attrs),p=f.attrs,v=f.proxies,a.options.sanitize&&a.options.sanitize.eventAttributes&&(p=p.filter(l)),p.length&&(this.attributes=p.map(y)),v.length&&(this.proxies=v.map(o)),f.intro&&(this.intro=o(f.intro)),f.outro&&(this.outro=o(f.outro)),f.decorator&&(this.decorator=o(f.decorator))),s.doctype&&(this.doctype=!0),s.selfClosing&&(this.selfClosing=!0),-1!==e.indexOf(w)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=i[w],this.items=[],c=a.next();c&&c.mustacheType!==t.CLOSING;){if(c.type===t.TAG){if(c.closing){c.name.toLowerCase()===w&&(a.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(c.name.toLowerCase()))break}this.items.push(a.getStub(h)),c=a.next()}h||(m=this.items[0],m&&m.type===t.TEXT&&(m.text=m.text.replace(d,""),m.text||this.items.shift()),m=this.items[this.items.length-1],m&&m.type===t.TEXT&&(m.text=m.text.replace(g,""),m.text||this.items.pop()))}},h.prototype={toJSON:s,toString:a},c="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),p="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),f=/^on[a-zA-Z]/,l=function(t){var e=!f.test(t.name);return e},h}(j,fi,Z,ur,hr,cr,dr,gr,fr),mr=function(t){return function(e){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(e.name.toLowerCase())?null:new t(e,this,this.preserveWhitespace)}}(vr),yr=function(t,e,n,i,r){var o;return o=function(t,e){var n,i;for(this.tokens=t||[],this.pos=0,this.options=e,this.preserveWhitespace=e.preserveWhitespace,i=[];n=this.getStub();)i.push(n);this.result=r(i,e.noStringify,!0)},o.prototype={getStub:function(t){var e=this.next();return e?this.getText(e,this.preserveWhitespace||t)||this.getComment(e)||this.getMustache(e)||this.getElement(e):null},getText:t,getComment:e,getMustache:n,getElement:i,next:function(){return this.tokens[this.pos]}},o}(Yi,tr,ar,mr,or),wr=function(t,e,n){var i,r,o,s,a;return r=/^\s*$/,o=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,s=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,i=function(i,s){var u,h,c;return s=s||{},o.test(i)?a(i,s):(s.sanitize===!0&&(s.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),u=t(i,s),s.preserveWhitespace||(c=u[0],c&&c.type===e.TEXT&&r.test(c.value)&&u.shift(),c=u[u.length-1],c&&c.type===e.TEXT&&r.test(c.value)&&u.pop()),h=new n(u,s).result,"string"==typeof h?[h]:h)},a=function(t,e){var n,r,a,u,h,c;for(a={},n="",r=t;h=o.exec(r);){if(u=h[1],n+=r.substr(0,h.index),r=r.substring(h.index+h[0].length),c=s.exec(r),!c||c[1]!==u)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");a[u]=i(r.substr(0,c.index),e),r=r.substring(c.index+c[0].length)}return{main:i(n,e),partials:a}},i}(Gi,j,yr),br=function(){function t(t,e){var i=n.exec(e)[0];return null===t||i.length<t.length?i:t}var e=/^\s*$/,n=/^\s*/;return function(n){var i,r,o,s;return i=n.split("\n"),r=i[0],void 0!==r&&e.test(r)&&i.shift(),o=i[i.length-1],void 0!==o&&e.test(o)&&i.pop(),s=i.reduce(t,null),s&&(n=i.map(function(t){return t.replace(s,"")}).join("\n")),n}}(),xr=function(t,e,n,i,r,o,s){var a,u,h,c;return a=function(i,a){var p,f,l;if(f=h(i,a))return f;if(e&&(p=document.getElementById(a),p&&"SCRIPT"===p.tagName)){if(!o)throw new Error(t.missingParser);u(o(s(p.text),i.parseOptions),a,r)}if(f=r[a],!f){if(l='Could not find descriptor for partial "'+a+'"',i.debug)throw new Error(l);return n(l),[]}return c(f)},h=function(e,n){var i;if(e.partials[n]){if("string"==typeof e.partials[n]){if(!o)throw new Error(t.missingParser);i=o(e.partials[n],e.parseOptions),u(i,n,e.partials)}return c(e.partials[n])}},u=function(t,e,n){var r;if(i(t)){n[e]=t.main;for(r in t.partials)t.partials.hasOwnProperty(r)&&(n[r]=t.partials[r])}else n[e]=t},c=function(t){return 1===t.length&&"string"==typeof t[0]?t[0]:t},a}(bi,u,Z,te,xi,wr,br),Er=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},_r=function(t,e,n,i){var r,o;return i.push(function(){o=i.DomFragment}),r=function(n,i){var r,s=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.descriptor.r,this.index=n.index,!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");r=e(s.root,n.descriptor.r),this.fragment=new o({descriptor:r,root:s.root,pNode:s.pNode,owner:this}),i&&i.appendChild(this.fragment.docFrag)},r.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(t,e,n,i){return this.fragment.reassign(t,e,n,i)},teardown:function(t){this.fragment.teardown(t)},toString:function(){var e,i,r,o;return e=this.fragment.toString(),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(r=i.descriptor.split("\n").pop(),(o=/^\s+$/.exec(r))?n(e,o[0]):e):e},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)}},r}(j,xr,Er,b),Tr=function(t,e){var n=function(t,n,i){this.parentFragment=t.parentFragment,this.component=t,this.key=n,this.fragment=new e({descriptor:i,root:t.root,owner:this}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return n.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},update:function(){var t=this.fragment.getValue();this.component.instance.set(this.key,t),this.value=t},teardown:function(){this.fragment.teardown()}},n}(A,Pn),Nr=function(t,e,n,i,r){function o(o,s,a,u){var h,c,p,f,l,d;return p=o.root,f=o.parentFragment,"string"==typeof a?(c=e(a),c?c.value:a):null===a?!0:1===a.length&&a[0].t===t.INTERPOLATOR&&a[0].r?f.indexRefs&&void 0!==f.indexRefs[d=a[0].r]?(o.indexRefBindings[d]=s,f.indexRefs[d]):(l=n(p,a[0].r,f)||a[0].r,u.push({childKeypath:s,parentKeypath:l}),i(p,l)):(h=new r(o,s,a),o.complexParameters.push(h),h.value)}return function(t,e,n,i){var r,s,a;r={},t.complexParameters=[];for(s in n)n.hasOwnProperty(s)&&(a=o(t,s,n[s],i),(void 0!==a||void 0===e[s])&&(r[s]=a));return r}}(j,Cn,k,Y,Tr),kr=function(){function t(t,e){var n,i,r;if(n=t.adapt.length?t.adapt.map(function(e){return"object"==typeof e?e:t.adaptors[e]||e}):[],i=e.length)for(r=0;i>r;r+=1)-1===n.indexOf(e[r])&&n.push(e[r]);return n}return function(e,n,i,r,o){var s,a,u,h,c;return a=e.parentFragment,h=e.root,u={content:o||[]},c=t(h,n.defaults.adapt,n.adaptors),s=new n({el:a.pNode,append:!0,data:i,partials:u,magic:h.magic||n.defaults.magic,modifyArrays:h.modifyArrays,_parent:h,_component:e,adapt:c}),r&&(s.insert(r),s.fragment.pNode=s.el=a.pNode),s}}(),Sr=function(t,e,n){return function(i,r){r.forEach(function(r){var o,s;t(i,i.root,r.parentKeypath,r.childKeypath),o=e(i.instance,r.childKeypath),s=e(i.root,r.parentKeypath),void 0!==o&&void 0===s&&n(i.root,r.parentKeypath,o)})}}(X,Y,q),Or=function(t){function e(e,i,r,o){if("string"!=typeof o){if(i.debug)throw new Error(n);return void t(n)}e.on(r,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),i.fire.apply(i,t)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(t,n){var i;for(i in n)n.hasOwnProperty(i)&&e(t.instance,t.root,i,n[i])}}(Z),Rr=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries[t.name])&&n.push(t.instance),e=e._parent},Ar=function(t,e,n,i,r,o,s){return function(a,u,h){var c,p,f,l,d;if(c=a.parentFragment=u.parentFragment,p=c.root,a.root=p,a.type=t.COMPONENT,a.name=u.descriptor.e,a.index=u.index,a.indexRefBindings={},a.bindings=[],f=p.components[u.descriptor.e],!f)throw new Error('Component "'+u.descriptor.e+'" not found');d=[],l=n(a,f.data||{},u.descriptor.a,d),i(a,f,l,h,u.descriptor.f),r(a,d),o(a,u.descriptor.v),(u.descriptor.t1||u.descriptor.t2||u.descriptor.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(a)}}(j,Z,Nr,kr,Sr,Or,Rr),Cr=function(t,e){function n(t){var e,n;e=t.root;do(n=e._liveComponentQueries[t.name])&&n._remove(t);while(e=e._parent)}var i=function(e,n){t(this,e,n)};return i.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(t){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();n(this),this.shouldDestroy=t,this.instance.teardown()},reassign:function(t,n,i,r){var o,s,a=this.instance,u=a._parent;this.bindings.forEach(function(o){var s;o.root===u&&(o.keypath===t&&a.set(o.otherKeypath,n),(s=e(o.keypath,i,r))&&o.reassign(s))}),(o=this.indexRefBindings[t])&&a.set(o,n),(s=this.root._liveComponentQueries[this.name])&&s._makeDirty()},toString:function(){return this.instance.fragment.toString()},find:function(t){return this.instance.fragment.find(t)},findAll:function(t,e){return this.instance.fragment.findAll(t,e)},findComponent:function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},findAllComponents:function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}},i}(Ar,De),Lr=function(t,e){var n=function(e,n){this.type=t.COMMENT,this.descriptor=e.descriptor,n&&(this.node=document.createComment(e.descriptor.f),n.appendChild(this.node))};return n.prototype={detach:e,teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},n}(j,ze),Mr=function(t,e,n,i,r,o,s,a,u,h,c,p,f){var l=function(t){t.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof t.descriptor?(this.html=t.descriptor,this.docFrag&&(this.nodes=i(this.html,t.pNode.tagName,t.pNode.namespaceURI,this.docFrag))):n.init(this,t)};return l.prototype={reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){if(this.nodes)for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);else if(this.items)for(t=this.items.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.items[e].detach());return this.docFrag}},createItem:function(e){if("string"==typeof e.descriptor)return new r(e,this.docFrag);switch(e.descriptor.t){case t.INTERPOLATOR:return new o(e,this.docFrag);case t.SECTION:return new s(e,this.docFrag);case t.TRIPLE:return new a(e,this.docFrag);case t.ELEMENT:return this.root.components[e.descriptor.e]?new c(e,this.docFrag):new u(e,this.docFrag);case t.PARTIAL:return new h(e,this.docFrag);case t.COMMENT:return new p(e,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(t){var e;if(this.nodes&&t)for(;e=this.nodes.pop();)e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null
},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var t,e,n,i;if(this.html)return this.html;if(t="",!this.items)return t;for(n=this.items.length,e=0;n>e;e+=1)i=this.items[e],t+=i.toString();return t},find:function(t){var n,i,r,o,s;if(this.nodes){for(i=this.nodes.length,n=0;i>n;n+=1)if(o=this.nodes[n],1===o.nodeType){if(e(o,t))return o;if(s=o.querySelector(t))return s}return null}if(this.items){for(i=this.items.length,n=0;i>n;n+=1)if(r=this.items[n],r.find&&(s=r.find(t)))return s;return null}},findAll:function(t,n){var i,r,o,s,a,u,h;if(this.nodes){for(r=this.nodes.length,i=0;r>i;i+=1)if(s=this.nodes[i],1===s.nodeType&&(e(s,t)&&n.push(s),a=s.querySelectorAll(t)))for(u=a.length,h=0;u>h;h+=1)n.push(a[h])}else if(this.items)for(r=this.items.length,i=0;r>i;i+=1)o=this.items[i],o.findAll&&o.findAll(t,n);return n},findComponent:function(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}},findAllComponents:function(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}},f.DomFragment=l,l}(j,ae,Be,We,Qe,rn,cn,pn,wi,_r,Cr,Lr,b),Ir=function(t,e,n){function i(t){for(var e;e=t._childInitQueue.pop();)e.instance.init&&e.instance.init(e.options),i(e.instance)}return function(r,o){if(this._rendering=!0,t.start(this,o),!this._initing)throw new Error("You cannot call ractive.render() directly!");this.constructor.css&&e.add(this.constructor),this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:r}),r&&r.appendChild(this.fragment.docFrag),this._parent&&this._parent._rendering||i(this),delete this._rendering,t.end()}}(A,E,Mr),Fr=function(t){return function(){return t("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(Z),Pr=function(t,e,n,i){return function(r,o){var s,a,u;if("function"==typeof r?(o=r,r={}):r=r||{},"object"!=typeof r)throw new Error("The reset method takes either no arguments, or an object containing new data");return s=new t(function(t){a=t}),o&&s.then(o),e.start(this,a),(u=this._wrapped[""])&&u.reset?u.reset(r)===!1&&(this.data=r):this.data=r,n(this,""),i(this,""),e.end(),this.fire("reset",r),s}}(g,A,D,O),jr=function(t,e,n,i,r){return function(o,s,a){var u,h,c;if(h=new i(function(t){c=t}),t.start(this,c),e(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),r(this,o,s))}else o=n(o),r(this,o,s);return t.end(),a&&h.then(a.bind(this)),h}}(A,te,v,g,q),Dr=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(f),Ur=function(t,e,n,i,r){return function(o){var s,a,u,h,c,p,f,l;if(this.fire("teardown"),h=!this.component||this.component.shouldDestroy,this.constructor.css)if(h)c=o,o=function(){c&&c.call(this),e.remove(this.constructor)};else{p=this.component.parentFragment;do p.owner.type===t.ELEMENT&&p.owner.willDetach&&(f=p.owner);while(!f&&(p=p.parent));if(!f)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");f.cssDetachQueue.push(this.constructor)}for(a=new i(function(t){u=t}),n.start(this,u),this.fragment.teardown(h);this._animations[0];)this._animations[0].stop();for(s in this._cache)r(this,s);for(;l=this._unresolvedImplicitDependencies.pop();)l.teardown();return n.end(),o&&a.then(o.bind(this)),a}}(j,E,A,g,D),qr=function(){return this.fragment.toString()},Br=function(t,e){var n;{if("string"==typeof t)return n=this.get(t),this.set(t,!n,e);if(this.debug)throw new Error("Bad arguments")}},Wr=function(t,e,n,i){return function(r,o){var s,a;return"function"==typeof r?(o=r,r=""):r=r||"",s=new e(function(t){a=t}),t.start(this,a),n(this,r),i(this,r),t.end(),this.fire("update",r),o&&s.then(o.bind(this)),s}}(A,g,D,O),zr=function(t,e,n){function i(t,r,o,s,a){var u,h,c,p,f,l;if(u=t._twowayBindings[r])for(c=u.length;c--;)p=u[c],(!p.radioName||p.node.checked)&&(p.checkboxName?p.changed()&&s[r]!==!0&&(s[r]=!0,s.push(r)):(f=p.attr.value,l=p.value(),e(f,l)||n(f,l)||(o[r]=l)));if(a&&(h=t._depsMap[r]))for(c=h.length;c--;)i(t,h[c],o,s,a)}return function(e,n){var r,o,s;if("string"!=typeof e&&(e="",n=!0),i(this,e,r={},o=[],n),s=o.length)for(;s--;)e=o[s],r[e]=t(this,e);this.set(r)}}(_,yn,d),Qr=function(t,e,n,i,r,o,s,a,u,h,c,p,f,l,d,g,v,m,y,w,b,x,E,_){return{add:t,animate:e,detach:n,find:i,findAll:r,findAllComponents:o,findComponent:s,fire:a,get:u,insert:h,merge:c,observe:p,off:f,on:l,render:d,renderHTML:g,reset:v,set:m,subtract:y,teardown:w,toHTML:b,toggle:x,update:E,updateModel:_}}(l,re,oe,se,ve,me,ye,we,xe,_e,ke,Ce,Le,Me,Ir,Fr,Pr,jr,Dr,Ur,qr,Br,Wr,zr),$r={},Jr={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Vr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},Hr=function(t){for(var e,n,i=Array.prototype.slice.call(arguments,1);n=i.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},Xr=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"],Gr=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,i=/\/\*.*?\*\//g,r=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(o,s){var a,u;return u=function(t){var n,i,o,a,u,h,c,p,f=[];for(n=[];i=r.exec(t);)n.push({str:i[0],base:i[1],modifiers:i[2]});for(a='[data-rvcguid="'+s+'"]',u=n.map(e),p=n.length;p--;)c=u.slice(),o=n[p],c[p]=o.base+a+o.modifiers||"",h=u.slice(),h[p]=a+" "+h[p],f.push(c.join(" "),h.join(" "));return f.join(", ")},a=o.replace(i,"").replace(n,function(e,n){var i,r;return i=n.split(",").map(t),r=i.map(u).join(", ")+" ",e.replace(n,r)})}}(),Kr=function(t,e,n,i){return function(r,o){t.forEach(function(t){o[t]&&(r[t]=e(o[t]))}),n(r,"defaults",{value:e(o.defaults)}),o.css&&n(r,"css",{value:o.defaults.noCssTransform?o.css:i(o.css,r._guid)})}}(Xr,Ie,h,Gr),Yr=function(t,e){return/_super/.test(t)?function(){var n,i=this._super;return this._super=e,n=t.apply(this,arguments),this._super=i,n}:t},Zr=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},to=function(t,e,n,i,r,o){var s={};return e.concat(t.keys).forEach(function(t){s[t]=!0}),function(a,u){var h,c;e.forEach(function(t){var e=u[t];e&&(a[t]?r(a[t],e):a[t]=e)}),t.keys.forEach(function(t){var e=u[t];void 0!==e&&(a.defaults[t]="function"==typeof e&&"function"==typeof a[t]?i(e,a[t]):u[t])});for(h in u)!s[h]&&u.hasOwnProperty(h)&&(c=u[h],a.prototype[h]="function"==typeof c&&"function"==typeof a.prototype[h]?i(c,a.prototype[h]):c);u.css&&n(a,"css",{value:a.defaults.noCssTransform?u.css:o(u.css,a._guid)})}}(r,Xr,h,Yr,Zr,Gr),eo=function(t,e){return function(n,i){t(n.defaults.template)&&(n.partials||(n.partials={}),e(n.partials,n.defaults.template.partials),i.partials&&e(n.partials,i.partials),n.defaults.template=n.defaults.template.main)}}(te,Zr),no=function(t,e,n){return function(i){var r;if("string"==typeof i.defaults.template){if(!n)throw new Error(t.missingParser);if("#"===i.defaults.template.charAt(0)&&e){if(r=document.getElementById(i.defaults.template.substring(1)),!r||"SCRIPT"!==r.tagName)throw new Error("Could not find template element ("+i.defaults.template+")");i.defaults.template=n(r.innerHTML,i)}else i.defaults.template=n(i.defaults.template,i.defaults)}}}(bi,u,wr),io=function(t,e){return function(n){var i;if(n.partials)for(i in n.partials)if(n.partials.hasOwnProperty(i)&&"string"==typeof n.partials[i]){if(!e)throw new Error(t.missingParser);n.partials[i]=e(n.partials[i],n)}}}(bi,wr),ro=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),oo=function(t,e,n){var i=function(t,n){this.root=t.ractive,this.keypath=n,this.priority=0,this.computation=t,e(this)};return i.prototype={update:function(){var e;e=this.root.get(this.keypath),t(e,this.value)||this.computation.bubble()},teardown:function(){n(this)}},i}(d,V,H),so=function(t,e,n,i){function r(t,e,n){var r,o,s;for(r=e.length;r--;)o=e[r],n[o.keypath]||(e.splice(r,1),e[o.keypath]=null,o.teardown());for(r=n.length;r--;)s=n[r],e[s]||(o=new i(t,s),e.push(e[s]=o))}var o=function(t,e,n){this.ractive=t,this.key=e,this.getter=n.get,this.setter=n.set,this.watchers=[],this.update()};return o.prototype={set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,t)},update:function(){var e,i,o,s;e=this.ractive,i=e._captured,i||(e._captured=[]);try{o=this.getter.call(e)}catch(a){e.debug&&t('Failed to compute "'+this.key+'": '+a.message||a),s=!0}r(this,this.watchers,e._captured),e._captured=i,s||(this.setting=!0,this.value=o,n(e,this.key,o),this.setting=!1),this.deferred=!1},bubble:function(){this.watchers.length<=1?this.update():this.deferred||(e.addComputation(this),this.deferred=!0)}},o}(Z,A,q,oo),ao=function(t,e){return function(n,i){var r,o;for(r in i)o=t(i[r]),n._computations[r]=new e(n,r,o)}}(ro,so),uo=function(t,e,n,i,r,o,s,a,u,h,c,p,f,l,d,g,v){var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(y,w){var b,x,E,_,T,N,k;if(p(w.adaptors)&&(r("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information"),w.adapt=w.adaptors,delete w.adaptors),b=y.constructor.defaults,n.keys.forEach(function(t){void 0===w[t]&&(w[t]=b[t])}),m.forEach(function(t){y[t]=w[t]}),"string"==typeof y.adapt&&(y.adapt=[y.adapt]),y.magic&&!d)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(u(y,{_initing:{value:!0,writable:!0},_guid:{value:f()},_subs:{value:o(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:o(null)},_deps:{value:[]},_depsMap:{value:o(null)},_patternObservers:{value:[]},_evaluators:{value:o(null)},_computations:{value:o(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:o(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),w._parent&&w._component&&(u(y,{_parent:{value:w._parent},component:{value:w._component}}),w._component.instance=y),w.el&&(y.el=h(w.el),!y.el&&y.debug))throw new Error("Could not find container element");if(w.eventDefinitions&&(r("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),w.events=w.eventDefinitions),i.forEach(function(t){y.constructor[t]?y[t]=s(o(y.constructor[t]),w[t]):w[t]&&(y[t]=w[t])}),y.data||(y.data={}),k=b.computed?s(o(b.computed),w.computed):w.computed,k&&v(y,k),x=w.template,"string"==typeof x){if(!g)throw new Error(e.missingParser);if("#"===x.charAt(0)&&t){if(E=document.getElementById(x.substring(1)),!E)throw new Error("Could not find template element ("+x+")");_=g(E.innerHTML,w)}else _=g(x,w)}else _=x;c(_)&&(a(y.partials,_.partials),_=_.main),_&&1===_.length&&"string"==typeof _[0]&&(_=_[0]),y.template=_,s(y.partials,w.partials),y.parseOptions={preserveWhitespace:w.preserveWhitespace,sanitize:w.sanitize,stripComments:w.stripComments},y.transitionsEnabled=w.noIntro?!1:w.transitionsEnabled,t&&!y.el&&(y.el=document.createDocumentFragment()),y.el&&!w.append&&(y.el.innerHTML=""),T=new l(function(t){N=t}),y.render(y.el,N),w.complete&&T.then(w.complete.bind(y)),y.transitionsEnabled=w.transitionsEnabled,y._initing=!1}}(u,bi,r,Xr,Z,Ie,Hr,ri,c,Ee,te,L,Vr,g,Q,wr,ao),ho=function(t,e,n){return function(i,r,o){t.keys.forEach(function(t){var n=o[t],i=r.defaults[t];"function"==typeof n&&"function"==typeof i&&(o[t]=e(n,i))}),i.beforeInit&&i.beforeInit(o),n(i,o),o._parent&&o._parent._rendering?o._parent._childInitQueue.push({instance:i,options:o}):i.init&&i.init(o)}}(r,Yr,uo),co=function(t,e,n,i,r,o,s,a,u,h,c){var p;return c.push(function(){p=c.Ractive}),function(c){var f,l,d,g=this;if(c.prototype instanceof p&&(c=i({},c,c.prototype,c.defaults)),f=function(t){h(this,f,t||{})},f.prototype=t(g.prototype),f.prototype.constructor=f,e(f,{extend:{value:g.extend},_guid:{value:n()}}),r(f,g),o(f,c),f.adaptors&&(d=f.defaults.adapt.length))for(;d--;)l=f.defaults.adapt[d],"string"==typeof l&&(f.defaults.adapt[d]=f.adaptors[l]||l);return c.template&&(a(f),s(f,c),u(f)),f}}(Ie,c,Vr,Hr,Kr,to,eo,no,io,ho,b),po=function(t,e,n,i,r,o,s,a,u,h,c,p,f,l){var d=function(t){f(this,t)};return d.prototype=i,n(d,{partials:{value:r},adaptors:{value:o},easing:{value:a},transitions:{value:{}},events:{value:{}},components:{value:s},decorators:{value:{}},interpolators:{value:u},defaults:{value:t.defaults},svg:{value:e},VERSION:{value:"0.4.0"}}),d.eventDefinitions=d.events,d.prototype.constructor=d,d.Promise=h,d.extend=c,d.parse=p,l.Ractive=d,d}(r,o,c,Qr,xi,I,$r,Jr,ee,g,co,wr,uo,b),fo=function(t,e){for(var n="function";e.length;)e.pop()();if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||"undefined"!=typeof window&&typeof window.addEventListener!==n)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return"undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains),t}(po,b,i);"undefined"!=typeof e&&e.exports?e.exports=fo:"function"==typeof define&&define.amd&&define(function(){return fo}),t.Ractive=fo,fo.noConflict=function(){return t.Ractive=n,fo}}("undefined"!=typeof window?window:this)},{}],7:[function(t,e,n){n["/"]=t("./pages/index"),n["/other"]=t("./pages/other"),n["*"]=t("./pages/notfound")},{"./pages/index":8,"./pages/notfound":9,"./pages/other":10}],8:[function(t,e){var n;n=t("ractive"),e.exports=n.extend({template:'<oscillator frequency="440" />\n<oscillator frequency="444" />',init:function(){return this.on("clicked",function(){return this.add("clickCount")})},data:{example:"fish",clickCount:0}})},{ractive:6}],9:[function(t,e){var n;n=t("ractive"),e.exports=n.extend({template:"<h1>404</h1>\n"})},{ractive:6}],10:[function(t,e){var n;n=t("ractive"),e.exports=n.extend({template:'<h1>Other</h1>\n<h2>Editable</h2>\n<editable value="{{e}}" />\n<span>{{e}}</span>\n<h2>Another editable</h2>\n<editable value="{{e2}}" />\n<span>{{e2}}</span>\n',data:{e:"potato",e2:"purple"}})},{ractive:6}],11:[function(t,e){e.exports={debug:!0}},{}]},{},[1]);
